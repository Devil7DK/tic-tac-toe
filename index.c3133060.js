let e,t,n,r,i,a,s,o,l,u,c,d,h,f,p,m,g,v,y,_,b,w;function k(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var C,S,I,E,T,P,x,N,R,O,D,L,A,M,F,U,z,j,q,W,V=globalThis,B={},$={},H=V.parcelRequire34f8;null==H&&((H=function(e){if(e in B)return B[e].exports;if(e in $){var t=$[e];delete $[e];var n={id:e,exports:{}};return B[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){$[e]=t},V.parcelRequire34f8=H);var K=H.register;K("1b2ls",function(e,t){k(e.exports,"Fragment",()=>n,e=>n=e),k(e.exports,"jsx",()=>r,e=>r=e),k(e.exports,"jsxs",()=>i,e=>i=e);var n,r,i,a=H("acw62"),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,n){var r,i={},a=null,o=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(o=t.ref),t)l.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:a,ref:o,props:i,_owner:u.current}}n=o,r=d,i=d}),K("acw62",function(e,t){e.exports=H("2pUnB")}),K("2pUnB",function(e,t){k(e.exports,"Children",()=>n,e=>n=e),k(e.exports,"Component",()=>r,e=>r=e),k(e.exports,"Fragment",()=>i,e=>i=e),k(e.exports,"Profiler",()=>a,e=>a=e),k(e.exports,"PureComponent",()=>s,e=>s=e),k(e.exports,"StrictMode",()=>o,e=>o=e),k(e.exports,"Suspense",()=>l,e=>l=e),k(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>u,e=>u=e),k(e.exports,"cloneElement",()=>c,e=>c=e),k(e.exports,"createContext",()=>d,e=>d=e),k(e.exports,"createElement",()=>h,e=>h=e),k(e.exports,"createFactory",()=>f,e=>f=e),k(e.exports,"createRef",()=>p,e=>p=e),k(e.exports,"forwardRef",()=>m,e=>m=e),k(e.exports,"isValidElement",()=>g,e=>g=e),k(e.exports,"lazy",()=>v,e=>v=e),k(e.exports,"memo",()=>y,e=>y=e),k(e.exports,"startTransition",()=>_,e=>_=e),k(e.exports,"unstable_act",()=>b,e=>b=e),k(e.exports,"useCallback",()=>w,e=>w=e),k(e.exports,"useContext",()=>C,e=>C=e),k(e.exports,"useDebugValue",()=>S,e=>S=e),k(e.exports,"useDeferredValue",()=>I,e=>I=e),k(e.exports,"useEffect",()=>E,e=>E=e),k(e.exports,"useId",()=>T,e=>T=e),k(e.exports,"useImperativeHandle",()=>P,e=>P=e),k(e.exports,"useInsertionEffect",()=>x,e=>x=e),k(e.exports,"useLayoutEffect",()=>N,e=>N=e),k(e.exports,"useMemo",()=>R,e=>R=e),k(e.exports,"useReducer",()=>O,e=>O=e),k(e.exports,"useRef",()=>D,e=>D=e),k(e.exports,"useState",()=>L,e=>L=e),k(e.exports,"useSyncExternalStore",()=>A,e=>A=e),k(e.exports,"useTransition",()=>M,e=>M=e),k(e.exports,"version",()=>F,e=>F=e);var n,r,i,a,s,o,l,u,c,d,h,f,p,m,g,v,y,_,b,w,C,S,I,E,T,P,x,N,R,O,D,L,A,M,F,U=Symbol.for("react.element"),z=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),G=Symbol.iterator,Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,X={};function Z(e,t,n){this.props=e,this.context=t,this.refs=X,this.updater=n||Y}function ee(){}function et(e,t,n){this.props=e,this.context=t,this.refs=X,this.updater=n||Y}Z.prototype.isReactComponent={},Z.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Z.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ee.prototype=Z.prototype;var en=et.prototype=new ee;en.constructor=et,J(en,Z.prototype),en.isPureReactComponent=!0;var er=Array.isArray,ei=Object.prototype.hasOwnProperty,ea={current:null},es={key:!0,ref:!0,__self:!0,__source:!0};function eo(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)ei.call(t,r)&&!es.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:U,type:e,key:a,ref:s,props:i,_owner:ea.current}}function el(e){return"object"==typeof e&&null!==e&&e.$$typeof===U}var eu=/\/+/g;function ec(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ed(e,t,n){if(null==e)return e;var r=[],i=0;return function e(t,n,r,i,a){var s,o,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case U:case z:c=!0}}if(c)return a=a(c=t),t=""===i?"."+ec(c,0):i,er(a)?(r="",null!=t&&(r=t.replace(eu,"$&/")+"/"),e(a,n,r,"",function(e){return e})):null!=a&&(el(a)&&(s=a,o=r+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(eu,"$&/")+"/")+t,a={$$typeof:U,type:s.type,key:o,ref:s.ref,props:s.props,_owner:s._owner}),n.push(a)),1;if(c=0,i=""===i?".":i+":",er(t))for(var d=0;d<t.length;d++){var h=i+ec(u=t[d],d);c+=e(u,n,r,h,a)}else if("function"==typeof(h=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=G&&l[G]||l["@@iterator"])?l:null))for(t=h.call(t),d=0;!(u=t.next()).done;)h=i+ec(u=u.value,d++),c+=e(u,n,r,h,a);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function eh(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ef={current:null},ep={transition:null};n={map:ed,forEach:function(e,t,n){ed(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ed(e,function(){t++}),t},toArray:function(e){return ed(e,function(e){return e})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=Z,i=j,a=W,s=et,o=q,l=H,u={ReactCurrentDispatcher:ef,ReactCurrentBatchConfig:ep,ReactCurrentOwner:ea},c=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=ea.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)ei.call(t,l)&&!es.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:U,type:e.type,key:i,ref:a,props:r,_owner:s}},d=function(e){return(e={$$typeof:B,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:V,_context:e},e.Consumer=e},h=eo,f=function(e){var t=eo.bind(null,e);return t.type=e,t},p=function(){return{current:null}},m=function(e){return{$$typeof:$,render:e}},g=el,v=function(e){return{$$typeof:Q,_payload:{_status:-1,_result:e},_init:eh}},y=function(e,t){return{$$typeof:K,type:e,compare:void 0===t?null:t}},_=function(e){var t=ep.transition;ep.transition={};try{e()}finally{ep.transition=t}},b=function(){throw Error("act(...) is not supported in production builds of React.")},w=function(e,t){return ef.current.useCallback(e,t)},C=function(e){return ef.current.useContext(e)},S=function(){},I=function(e){return ef.current.useDeferredValue(e)},E=function(e,t){return ef.current.useEffect(e,t)},T=function(){return ef.current.useId()},P=function(e,t,n){return ef.current.useImperativeHandle(e,t,n)},x=function(e,t){return ef.current.useInsertionEffect(e,t)},N=function(e,t){return ef.current.useLayoutEffect(e,t)},R=function(e,t){return ef.current.useMemo(e,t)},O=function(e,t,n){return ef.current.useReducer(e,t,n)},D=function(e){return ef.current.useRef(e)},L=function(e){return ef.current.useState(e)},A=function(e,t,n){return ef.current.useSyncExternalStore(e,t,n)},M=function(){return ef.current.useTransition()},F="18.2.0"}),K("Xw6Mv",function(e,t){k(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>W,e=>W=e),k(e.exports,"createPortal",()=>V,e=>V=e),k(e.exports,"createRoot",()=>B,e=>B=e),k(e.exports,"findDOMNode",()=>$,e=>$=e),k(e.exports,"flushSync",()=>K,e=>K=e),k(e.exports,"hydrate",()=>Q,e=>Q=e),k(e.exports,"hydrateRoot",()=>G,e=>G=e),k(e.exports,"render",()=>Y,e=>Y=e),k(e.exports,"unmountComponentAtNode",()=>J,e=>J=e),k(e.exports,"unstable_batchedUpdates",()=>X,e=>X=e),k(e.exports,"unstable_renderSubtreeIntoContainer",()=>Z,e=>Z=e),k(e.exports,"version",()=>ee,e=>ee=e);var n,r,i,a,s,o,l=H("acw62"),u=H("fO90s");function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,h={};function f(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(h[e]=t,e=0;e<t.length;e++)d.add(t[e])}var m=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function b(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function S(e){return e[1].toUpperCase()}function I(e,t,n,r){var i,a=w.hasOwnProperty(t)?w[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?(i=t,(!!g.call(_,i)||!g.call(y,i)&&(v.test(i)?_[i]=!0:(y[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,S);w[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,S);w[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,S);w[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});var E=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),P=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}var W,V,B,$,K,Q,G,Y,J,X,Z,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var ei=!1;function ea(e,t){if(!e||ei)return"";ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o)break}}}finally{ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function eo(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function el(e){e._valueTracker||(e._valueTracker=function(e){var t=eo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eo(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ec(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ed(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function eh(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=es(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ef(e,t){null!=(t=t.checked)&&I(e,"checked",t,!1)}function ep(e,t){ef(e,t);var n=es(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r){e.removeAttribute("value");return}t.hasOwnProperty("value")?eg(e,t.type,n):t.hasOwnProperty("defaultValue")&&eg(e,t.type,es(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function eg(e,t,n){("number"!==t||ec(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ev=Array.isArray;function ey(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+es(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function e_(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(c(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eb(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(c(92));if(ev(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:es(n)}}function ew(e,t){var n=es(t.value),r=es(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ek(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function eC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eS(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?eC(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eI,eE,eT=(eI=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eE=eE||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eE.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return eI(e,t,n,r)})}:eI);function eP(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var ex={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eN=["Webkit","ms","Moz","O"];function eR(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ex.hasOwnProperty(e)&&ex[e]?(""+t).trim():t+"px"}function eO(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eR(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ex).forEach(function(e){eN.forEach(function(t){ex[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=ex[e]})});var eD=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eL(e,t){if(t){if(eD[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(c(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(c(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(c(62))}}function eA(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eM=null;function eF(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eU=null,ez=null,ej=null;function eq(e){if(e=rG(e)){if("function"!=typeof eU)throw Error(c(280));var t=e.stateNode;t&&(t=rJ(t),eU(e.stateNode,e.type,t))}}function eW(e){ez?ej?ej.push(e):ej=[e]:ez=e}function eV(){if(ez){var e=ez,t=ej;if(ej=ez=null,eq(e),t)for(e=0;e<t.length;e++)eq(t[e])}}function eB(e,t){return e(t)}function e$(){}var eH=!1;function eK(e,t,n){if(eH)return e(t,n);eH=!0;try{return eB(e,t,n)}finally{eH=!1,(null!==ez||null!==ej)&&(e$(),eV())}}function eQ(e,t){var n=e.stateNode;if(null===n)return null;var r=rJ(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(c(231,t,typeof n));return n}var eG=!1;if(m)try{var eY={};Object.defineProperty(eY,"passive",{get:function(){eG=!0}}),window.addEventListener("test",eY,eY),window.removeEventListener("test",eY,eY)}catch(e){eG=!1}function eJ(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eX=!1,eZ=null,e0=!1,e1=null,e2={onError:function(e){eX=!0,eZ=e}};function e3(e,t,n,r,i,a,s,o,l){eX=!1,eZ=null,eJ.apply(e2,arguments)}function e4(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e5(e){if(e4(e)!==e)throw Error(c(188))}function e8(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e4(e)))throw Error(c(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return e5(i),e;if(a===r)return e5(i),t;a=a.sibling}throw Error(c(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(c(189))}}if(n.alternate!==r)throw Error(c(190))}if(3!==n.tag)throw Error(c(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e9=u.unstable_scheduleCallback,e7=u.unstable_cancelCallback,te=u.unstable_shouldYield,tt=u.unstable_requestPaint,tn=u.unstable_now,tr=u.unstable_getCurrentPriorityLevel,ti=u.unstable_ImmediatePriority,ta=u.unstable_UserBlockingPriority,ts=u.unstable_NormalPriority,to=u.unstable_LowPriority,tl=u.unstable_IdlePriority,tu=null,tc=null,td=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(th(e)/tf|0)|0},th=Math.log,tf=Math.LN2,tp=64,tm=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tv(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=tg(o):0!=(a&=s)&&(r=tg(a))}else 0!=(s=n&~i)?r=tg(s):0!==a&&(r=tg(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-td(t)),r|=e[n],t&=~i;return r}function ty(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function t_(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tw(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-td(t)]=n}function tk(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-td(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tC=0;function tS(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tI,tE,tT,tP,tx,tN=!1,tR=[],tO=null,tD=null,tL=null,tA=new Map,tM=new Map,tF=[],tU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tz(e,t){switch(e){case"focusin":case"focusout":tO=null;break;case"dragenter":case"dragleave":tD=null;break;case"mouseover":case"mouseout":tL=null;break;case"pointerover":case"pointerout":tA.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tM.delete(t.pointerId)}}function tj(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=rG(t))&&tE(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tq(e){var t=rQ(e.target);if(null!==t){var n=e4(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tx(e.priority,function(){tT(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tW(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tZ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rG(n))&&tE(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eM=r,n.target.dispatchEvent(r),eM=null,t.shift()}return!0}function tV(e,t,n){tW(e)&&n.delete(t)}function tB(){tN=!1,null!==tO&&tW(tO)&&(tO=null),null!==tD&&tW(tD)&&(tD=null),null!==tL&&tW(tL)&&(tL=null),tA.forEach(tV),tM.forEach(tV)}function t$(e,t){e.blockedOn===t&&(e.blockedOn=null,tN||(tN=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,tB)))}function tH(e){function t(t){return t$(t,e)}if(0<tR.length){t$(tR[0],e);for(var n=1;n<tR.length;n++){var r=tR[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tO&&t$(tO,e),null!==tD&&t$(tD,e),null!==tL&&t$(tL,e),tA.forEach(t),tM.forEach(t),n=0;n<tF.length;n++)(r=tF[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tF.length&&null===(n=tF[0]).blockedOn;)tq(n),null===n.blockedOn&&tF.shift()}var tK=E.ReactCurrentBatchConfig,tQ=!0;function tG(e,t,n,r){var i=tC,a=tK.transition;tK.transition=null;try{tC=1,tJ(e,t,n,r)}finally{tC=i,tK.transition=a}}function tY(e,t,n,r){var i=tC,a=tK.transition;tK.transition=null;try{tC=4,tJ(e,t,n,r)}finally{tC=i,tK.transition=a}}function tJ(e,t,n,r){if(tQ){var i=tZ(e,t,n,r);if(null===i)rb(e,t,r,tX,n),tz(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tO=tj(tO,e,t,n,r,i),!0;case"dragenter":return tD=tj(tD,e,t,n,r,i),!0;case"mouseover":return tL=tj(tL,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return tA.set(a,tj(tA.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,tM.set(a,tj(tM.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tz(e,r),4&t&&-1<tU.indexOf(e)){for(;null!==i;){var a=rG(i);if(null!==a&&tI(a),null===(a=tZ(e,t,n,r))&&rb(e,t,r,tX,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else rb(e,t,r,null,n)}}var tX=null;function tZ(e,t,n,r){if(tX=null,null!==(e=rQ(e=eF(r)))){if(null===(t=e4(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tX=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case ta:return 4;case ts:case to:return 16;case tl:return 536870912;default:return 16}default:return 16}}var t1=null,t2=null,t3=null;function t4(){if(t3)return t3;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return t3=i.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t5(){return!0}function t8(){return!1}function t9(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t5:t8,this.isPropagationStopped=t8,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t5)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t5)},persist:function(){},isPersistent:t5}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t9(nn),ni=en({},nn,{view:0,detail:0}),na=t9(ni),ns=en({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),no=t9(ns),nl=t9(en({},ns,{dataTransfer:0})),nu=t9(en({},ni,{relatedTarget:0})),nc=t9(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nd=t9(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nh=t9(en({},nn,{data:0})),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nm[e])&&!!t[e]}function nv(){return ng}var ny=t9(en({},ni,{key:function(e){if(e.key){var t=nf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),n_=t9(en({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nb=t9(en({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv})),nw=t9(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nk=t9(en({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nC=[9,13,27,32],nS=m&&"CompositionEvent"in window,nI=null;m&&"documentMode"in document&&(nI=document.documentMode);var nE=m&&"TextEvent"in window&&!nI,nT=m&&(!nS||nI&&8<nI&&11>=nI),nP=!1;function nx(e,t){switch(e){case"keyup":return -1!==nC.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nN(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nR=!1,nO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nO[e.type]:"textarea"===t}function nL(e,t,n,r){eW(r),0<(t=rk(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nA=null,nM=null;function nF(e){rp(e,0)}function nU(e){if(eu(rY(e)))return e}function nz(e,t){if("change"===e)return t}var nj=!1;if(m){if(m){var nq="oninput"in document;if(!nq){var nW=document.createElement("div");nW.setAttribute("oninput","return;"),nq="function"==typeof nW.oninput}n=nq}else n=!1;nj=n&&(!document.documentMode||9<document.documentMode)}function nV(){nA&&(nA.detachEvent("onpropertychange",nB),nM=nA=null)}function nB(e){if("value"===e.propertyName&&nU(nM)){var t=[];nL(t,nM,e,eF(e)),eK(nF,t)}}function n$(e,t,n){"focusin"===e?(nV(),nA=t,nM=n,nA.attachEvent("onpropertychange",nB)):"focusout"===e&&nV()}function nH(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nU(nM)}function nK(e,t){if("click"===e)return nU(t)}function nQ(e,t){if("input"===e||"change"===e)return nU(t)}var nG="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nY(e,t){if(nG(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g.call(t,i)||!nG(e[i],t[i]))return!1}return!0}function nJ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nX(e,t){var n,r=nJ(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nJ(r)}}function nZ(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=m&&"documentMode"in document&&11>=document.documentMode,n2=null,n3=null,n4=null,n6=!1;function n5(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==ec(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n4&&nY(n4,r)||(n4=r,0<(r=rk(n3,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n8(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n9={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},n7={},re={};function rt(e){if(n7[e])return n7[e];if(!n9[e])return e;var t,n=n9[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n7[e]=n[t];return e}m&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n9.animationend.animation,delete n9.animationiteration.animation,delete n9.animationstart.animation),"TransitionEvent"in window||delete n9.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),ra=rt("transitionend"),rs=new Map,ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){rs.set(e,t),f(t,[e])}for(var ru=0;ru<ro.length;ru++){var rc=ro[ru];rl(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rl(rn,"onAnimationEnd"),rl(rr,"onAnimationIteration"),rl(ri,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(ra,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function rf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,o,l){if(e3.apply(this,arguments),eX){if(eX){var u=eZ;eX=!1,eZ=null}else throw Error(c(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;rf(i,o,u),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;rf(i,o,u),a=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function rm(e,t){var n=t[r$];void 0===n&&(n=t[r$]=new Set);var r=e+"__bubble";n.has(r)||(r_(t,e,2,!1),n.add(r))}function rg(e,t,n){var r=0;t&&(r|=4),r_(n,e,r,t)}var rv="_reactListening"+Math.random().toString(36).slice(2);function ry(e){if(!e[rv]){e[rv]=!0,d.forEach(function(t){"selectionchange"!==t&&(rh.has(t)||rg(t,!1,e),rg(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[rv]||(t[rv]=!0,rg("selectionchange",!1,t))}}function r_(e,t,n,r){switch(t0(t)){case 1:var i=tG;break;case 4:i=tY;break;default:i=tJ}n=i.bind(null,t,n,e),i=void 0,eG&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rb(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=rQ(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}eK(function(){var r=a,i=eF(n),s=[];e:{var o=rs.get(e);if(void 0!==o){var l=nr,u=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":l=ny;break;case"focusin":u="focus",l=nu;break;case"focusout":u="blur",l=nu;break;case"beforeblur":case"afterblur":l=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=nb;break;case rn:case rr:case ri:l=nc;break;case ra:l=nw;break;case"scroll":l=na;break;case"wheel":l=nk;break;case"copy":case"cut":case"paste":l=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=n_}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=eQ(p,h))&&c.push(rw(p,m,f))),d)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),s.push({event:o,listeners:c}))}}if(0==(7&t)){if(o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==eM&&(u=n.relatedTarget||n.fromElement)&&(rQ(u)||u[rB]))&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rQ(u):null)&&(d=e4(u),u!==d||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=no,m="onMouseLeave",h="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=n_,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:rY(l),f=null==u?o:rY(u),(o=new c(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,rQ(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)t:{for(c=l,h=u,p=0,f=c;f;f=rC(f))p++;for(f=0,m=h;m;m=rC(m))f++;for(;0<p-f;)c=rC(c),p--;for(;0<f-p;)h=rC(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break t;c=rC(c),h=rC(h)}c=null}else c=null;null!==l&&rS(s,o,l,c,!1),null!==u&&null!==d&&rS(s,d,u,c,!0)}e:{if("select"===(l=(o=r?rY(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g,v=nz;else if(nD(o)){if(nj)v=nQ;else{v=nH;var y=n$}}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=nK);if(v&&(v=v(e,r))){nL(s,v,n,i);break e}y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&eg(o,"number",o.value)}switch(y=r?rY(r):window,e){case"focusin":(nD(y)||"true"===y.contentEditable)&&(n2=y,n3=r,n4=null);break;case"focusout":n4=n3=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n5(s,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n5(s,n,i)}if(nS)t:{switch(e){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else nR?nx(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(nT&&"ko"!==n.locale&&(nR||"onCompositionStart"!==_?"onCompositionEnd"===_&&nR&&(g=t4()):(t2="value"in(t1=i)?t1.value:t1.textContent,nR=!0)),0<(y=rk(r,_)).length&&(_=new nh(_,e,null,n,i),s.push({event:_,listeners:y}),g?_.data=g:null!==(g=nN(n))&&(_.data=g))),(g=nE?function(e,t){switch(e){case"compositionend":return nN(t);case"keypress":if(32!==t.which)return null;return nP=!0," ";case"textInput":return" "===(e=t.data)&&nP?null:e;default:return null}}(e,n):function(e,t){if(nR)return"compositionend"===e||!nS&&nx(e,t)?(e=t4(),t3=t2=t1=null,nR=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nT&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=rk(r,"onBeforeInput")).length&&(i=new nh("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=g)}rp(s,t)})}function rw(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rk(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=eQ(e,n))&&r.unshift(rw(e,a,i)),null!=(a=eQ(e,t))&&r.push(rw(e,a,i))),e=e.return}return r}function rC(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rS(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=eQ(n,a))&&s.unshift(rw(n,l,o)):i||null!=(l=eQ(n,a))&&s.push(rw(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var rI=/\r\n?/g,rE=/\u0000|\uFFFD/g;function rT(e){return("string"==typeof e?e:""+e).replace(rI,"\n").replace(rE,"")}function rP(e,t,n){if(t=rT(t),rT(e)!==t&&n)throw Error(c(425))}function rx(){}var rN=null,rR=null;function rO(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rD="function"==typeof setTimeout?setTimeout:void 0,rL="function"==typeof clearTimeout?clearTimeout:void 0,rA="function"==typeof Promise?Promise:void 0,rM="function"==typeof queueMicrotask?queueMicrotask:void 0!==rA?function(e){return rA.resolve(null).then(e).catch(rF)}:rD;function rF(e){setTimeout(function(){throw e})}function rU(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tH(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}n=i}while(n)tH(t)}function rz(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rj(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rq=Math.random().toString(36).slice(2),rW="__reactFiber$"+rq,rV="__reactProps$"+rq,rB="__reactContainer$"+rq,r$="__reactEvents$"+rq,rH="__reactListeners$"+rq,rK="__reactHandles$"+rq;function rQ(e){var t=e[rW];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rB]||n[rW]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rj(e);null!==e;){if(n=e[rW])return n;e=rj(e)}return t}n=(e=n).parentNode}return null}function rG(e){return(e=e[rW]||e[rB])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rY(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(c(33))}function rJ(e){return e[rV]||null}var rX=[],rZ=-1;function r0(e){return{current:e}}function r1(e){0>rZ||(e.current=rX[rZ],rX[rZ]=null,rZ--)}function r2(e,t){rX[++rZ]=e.current,e.current=t}var r3={},r4=r0(r3),r6=r0(!1),r5=r3;function r8(e,t){var n=e.type.contextTypes;if(!n)return r3;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function r9(e){return null!=(e=e.childContextTypes)}function r7(){r1(r6),r1(r4)}function ie(e,t,n){if(r4.current!==r3)throw Error(c(168));r2(r4,t),r2(r6,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(c(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case x:return"Fragment";case P:return"Portal";case R:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case L:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case F:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case U:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return en({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r3,r5=r4.current,r2(r4,e),r2(r6,r6.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(c(169));n?(e=it(e,t,r5),r.__reactInternalMemoizedMergedChildContext=e,r1(r6),r1(r4),r2(r4,e)):r1(r6),r2(r6,n)}var ia=null,is=!1,io=!1;function il(e){null===ia?ia=[e]:ia.push(e)}function iu(){if(!io&&null!==ia){io=!0;var e=0,t=tC;try{var n=ia;for(tC=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}ia=null,is=!1}catch(t){throw null!==ia&&(ia=ia.slice(e+1)),e9(ti,iu),t}finally{tC=t,io=!1}}return null}var ic=[],id=0,ih=null,ip=0,im=[],ig=0,iv=null,iy=1,i_="";function ib(e,t){ic[id++]=ip,ic[id++]=ih,ih=e,ip=t}function iw(e,t,n){im[ig++]=iy,im[ig++]=i_,im[ig++]=iv,iv=e;var r=iy;e=i_;var i=32-td(r)-1;r&=~(1<<i),n+=1;var a=32-td(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,iy=1<<32-td(t)+i|n<<i|r,i_=a+e}else iy=1<<a|n<<i|r,i_=e}function ik(e){null!==e.return&&(ib(e,1),iw(e,1,0))}function iC(e){for(;e===ih;)ih=ic[--id],ic[id]=null,ip=ic[--id],ic[id]=null;for(;e===iv;)iv=im[--ig],im[ig]=null,i_=im[--ig],im[ig]=null,iy=im[--ig],im[ig]=null}var iS=null,iI=null,iE=!1,iT=null;function iP(e,t){var n=o9(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ix(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iS=e,iI=rz(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iS=e,iI=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==iv?{id:iy,overflow:i_}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=o9(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iS=e,iI=null,!0);default:return!1}}function iN(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iR(e){if(iE){var t=iI;if(t){var n=t;if(!ix(e,t)){if(iN(e))throw Error(c(418));t=rz(n.nextSibling);var r=iS;t&&ix(e,t)?iP(r,n):(e.flags=-4097&e.flags|2,iE=!1,iS=e)}}else{if(iN(e))throw Error(c(418));e.flags=-4097&e.flags|2,iE=!1,iS=e}}}function iO(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iS=e}function iD(e){if(e!==iS)return!1;if(!iE)return iO(e),iE=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rO(e.type,e.memoizedProps)),t&&(t=iI)){if(iN(e))throw iL(),Error(c(418));for(;t;)iP(e,t),t=rz(t.nextSibling)}if(iO(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(c(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){iI=rz(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}iI=null}}else iI=iS?rz(e.stateNode.nextSibling):null;return!0}function iL(){for(var e=iI;e;)e=rz(e.nextSibling)}function iA(){iI=iS=null,iE=!1}function iM(e){null===iT?iT=[e]:iT.push(e)}var iF=E.ReactCurrentBatchConfig;function iU(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var iz=r0(null),ij=null,iq=null,iW=null;function iV(){iW=iq=ij=null}function iB(e){var t=iz.current;r1(iz),e._currentValue=t}function i$(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iH(e,t){ij=e,iW=iq=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(sw=!0),e.firstContext=null)}function iK(e){var t=e._currentValue;if(iW!==e){if(e={context:e,memoizedValue:t,next:null},null===iq){if(null===ij)throw Error(c(308));iq=e,ij.dependencies={lanes:0,firstContext:e}}else iq=iq.next=e}return t}var iQ=null;function iG(e){null===iQ?iQ=[e]:iQ.push(e)}function iY(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,iG(t)):(n.next=i.next,i.next=n),t.interleaved=n,iJ(e,r)}function iJ(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var iX=!1;function iZ(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i1(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i2(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,iJ(e,n)}return null===(i=r.interleaved)?(t.next=t,iG(r)):(t.next=i.next,i.next=t),r.interleaved=t,iJ(e,n)}function i3(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tk(e,n)}}function i4(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n)null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function i6(e,t,n,r){var i=e.updateQueue;iX=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==a){var d=i.baseState;for(s=0,c=u=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=en({},d,h);break e;case 2:iX=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do s|=i.lane,i=i.next;while(i!==t)}else null===a&&(i.shared.lanes=0);og|=s,e.lanes=s,e.memoizedState=d}}function i5(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(c(191,i));i.call(r)}}}var i8=(new l.Component).refs;function i9(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var i7={isMounted:function(e){return!!(e=e._reactInternals)&&e4(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oL(),i=oA(e),a=i1(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=i2(e,a,i))&&(oM(t,e,i,r),i3(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oL(),i=oA(e),a=i1(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=i2(e,a,i))&&(oM(t,e,i,r),i3(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oL(),r=oA(e),i=i1(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i2(e,i,r))&&(oM(t,e,r,n),i3(t,e,r))}};function ae(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||!nY(n,r)||!nY(i,a)}function at(e,t,n){var r=!1,i=r3,a=t.contextType;return"object"==typeof a&&null!==a?a=iK(a):(i=r9(t)?r5:r4.current,a=(r=null!=(r=t.contextTypes))?r8(e,i):r3),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=i7,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function an(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&i7.enqueueReplaceState(t,t.state,null)}function ar(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=i8,iZ(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=iK(a):(a=r9(t)?r5:r4.current,i.context=r8(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(i9(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&i7.enqueueReplaceState(i,i.state,null),i6(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ai(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(c(309));var r=n.stateNode}if(!r)throw Error(c(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===i8&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function aa(e,t){throw Error(c(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function as(e){return(0,e._init)(e._payload)}function ao(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=le(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?(t=li(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){var a=n.type;return a===x?d(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===U&&as(a)===t.type)?(r=i(t,n.props)).ref=ai(e,t,n):(r=lt(n.type,n.key,n.props,null,e.mode,r)).ref=ai(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=la(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function d(e,t,n,r,a){return null===t||7!==t.tag?(t=ln(n,e.mode,r,a)).return=e:(t=i(t,n)).return=e,t}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=li(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case T:return(n=lt(t.type,t.key,t.props,null,e.mode,n)).ref=ai(e,null,t),n.return=e,n;case P:return(t=la(t,e.mode,n)).return=e,t;case U:return h(e,(0,t._init)(t._payload),n)}if(ev(t)||q(t))return(t=ln(t,e.mode,n,null)).return=e,t;aa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case T:return n.key===i?l(e,t,n,r):null;case P:return n.key===i?u(e,t,n,r):null;case U:return f(e,t,(i=n._init)(n._payload),r)}if(ev(n)||q(n))return null!==i?null:d(e,t,n,r,null);aa(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case T:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case U:return p(e,t,n,(0,r._init)(r._payload),i)}if(ev(r)||q(r))return d(t,e=e.get(n)||null,r,i,null);aa(t,r)}return null}return function o(l,u,d,m){if("object"==typeof d&&null!==d&&d.type===x&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case T:e:{for(var g=d.key,v=u;null!==v;){if(v.key===g){if((g=d.type)===x){if(7===v.tag){n(l,v.sibling),(u=i(v,d.props.children)).return=l,l=u;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===U&&as(g)===v.type){n(l,v.sibling),(u=i(v,d.props)).ref=ai(l,v,d),u.return=l,l=u;break e}n(l,v);break}t(l,v),v=v.sibling}d.type===x?((u=ln(d.props.children,l.mode,m,d.key)).return=l,l=u):((m=lt(d.type,d.key,d.props,null,l.mode,m)).ref=ai(l,u,d),m.return=l,l=m)}return s(l);case P:e:{for(v=d.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){n(l,u.sibling),(u=i(u,d.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=la(d,l.mode,m)).return=l,l=u}return s(l);case U:return o(l,u,(v=d._init)(d._payload),m)}if(ev(d))return function(i,s,o,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===o.length)return n(i,d),iE&&ib(i,m),u;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===c?u=d:c.sibling=d,c=d);return iE&&ib(i,m),u}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),iE&&ib(i,m),u}(l,u,d,m);if(q(d))return function(i,s,o,l){var u=q(o);if("function"!=typeof u)throw Error(c(150));if(null==(o=u.call(o)))throw Error(c(151));for(var d=u=null,m=s,g=s=0,v=null,y=o.next();null!==m&&!y.done;g++,y=o.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,l);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),s=a(_,s,g),null===d?u=_:d.sibling=_,d=_,m=v}if(y.done)return n(i,m),iE&&ib(i,g),u;if(null===m){for(;!y.done;g++,y=o.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return iE&&ib(i,g),u}for(m=r(i,m);!y.done;g++,y=o.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),iE&&ib(i,g),u}(l,u,d,m);aa(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,d)).return=l):(n(l,u),(u=li(d,l.mode,m)).return=l),s(l=u)):n(l,u)}}var al=ao(!0),au=ao(!1),ac={},ad=r0(ac),ah=r0(ac),af=r0(ac);function ap(e){if(e===ac)throw Error(c(174));return e}function am(e,t){switch(r2(af,t),r2(ah,e),r2(ad,ac),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eS(null,"");break;default:t=eS(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}r1(ad),r2(ad,t)}function ag(){r1(ad),r1(ah),r1(af)}function av(e){ap(af.current);var t=ap(ad.current),n=eS(t,e.type);t!==n&&(r2(ah,e),r2(ad,n))}function ay(e){ah.current===e&&(r1(ad),r1(ah))}var a_=r0(0);function ab(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aw=[];function ak(){for(var e=0;e<aw.length;e++)aw[e]._workInProgressVersionPrimary=null;aw.length=0}var aC=E.ReactCurrentDispatcher,aS=E.ReactCurrentBatchConfig,aI=0,aE=null,aT=null,aP=null,ax=!1,aN=!1,aR=0,aO=0;function aD(){throw Error(c(321))}function aL(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nG(e[n],t[n]))return!1;return!0}function aA(e,t,n,r,i,a){if(aI=a,aE=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,aC.current=null===e||null===e.memoizedState?sl:su,e=n(r,i),aN){a=0;do{if(aN=!1,aR=0,25<=a)throw Error(c(301));a+=1,aP=aT=null,t.updateQueue=null,aC.current=sc,e=n(r,i)}while(aN)}if(aC.current=so,t=null!==aT&&null!==aT.next,aI=0,aP=aT=aE=null,ax=!1,t)throw Error(c(300));return e}function aM(){var e=0!==aR;return aR=0,e}function aF(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===aP?aE.memoizedState=aP=e:aP=aP.next=e,aP}function aU(){if(null===aT){var e=aE.alternate;e=null!==e?e.memoizedState:null}else e=aT.next;var t=null===aP?aE.memoizedState:aP.next;if(null!==t)aP=t,aT=e;else{if(null===e)throw Error(c(310));e={memoizedState:(aT=e).memoizedState,baseState:aT.baseState,baseQueue:aT.baseQueue,queue:aT.queue,next:null},null===aP?aE.memoizedState=aP=e:aP=aP.next=e}return aP}function az(e,t){return"function"==typeof t?t(e):t}function aj(e){var t=aU(),n=t.queue;if(null===n)throw Error(c(311));n.lastRenderedReducer=e;var r=aT,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((aI&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(o=l=h,s=r):l=l.next=h,aE.lanes|=d,og|=d}u=u.next}while(null!==u&&u!==a)null===l?s=r:l.next=o,nG(r,t.memoizedState)||(sw=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do a=i.lane,aE.lanes|=a,og|=a,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aq(e){var t=aU(),n=t.queue;if(null===n)throw Error(c(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i)nG(a,t.memoizedState)||(sw=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function aW(){}function aV(e,t){var n=aE,r=aU(),i=t(),a=!nG(r.memoizedState,i);if(a&&(r.memoizedState=i,sw=!0),r=r.queue,a1(aH.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==aP&&1&aP.memoizedState.tag){if(n.flags|=2048,aY(9,a$.bind(null,n,r,i,t),void 0,null),null===ou)throw Error(c(349));0!=(30&aI)||aB(n,t,i)}return i}function aB(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aE.updateQueue)?(t={lastEffect:null,stores:null},aE.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function a$(e,t,n,r){t.value=n,t.getSnapshot=r,aK(t)&&aQ(e)}function aH(e,t,n){return n(function(){aK(t)&&aQ(e)})}function aK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nG(e,n)}catch(e){return!0}}function aQ(e){var t=iJ(e,1);null!==t&&oM(t,e,1,-1)}function aG(e){var t=aF();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:az,lastRenderedState:e},t.queue=e,e=e.dispatch=sr.bind(null,aE,e),[t.memoizedState,e]}function aY(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aE.updateQueue)?(t={lastEffect:null,stores:null},aE.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function aJ(){return aU().memoizedState}function aX(e,t,n,r){var i=aF();aE.flags|=e,i.memoizedState=aY(1|t,n,void 0,void 0===r?null:r)}function aZ(e,t,n,r){var i=aU();r=void 0===r?null:r;var a=void 0;if(null!==aT){var s=aT.memoizedState;if(a=s.destroy,null!==r&&aL(r,s.deps)){i.memoizedState=aY(t,n,a,r);return}}aE.flags|=e,i.memoizedState=aY(1|t,n,a,r)}function a0(e,t){return aX(8390656,8,e,t)}function a1(e,t){return aZ(2048,8,e,t)}function a2(e,t){return aZ(4,2,e,t)}function a3(e,t){return aZ(4,4,e,t)}function a4(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function a6(e,t,n){return n=null!=n?n.concat([e]):null,aZ(4,4,a4.bind(null,t,e),n)}function a5(){}function a8(e,t){var n=aU();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aL(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function a9(e,t){var n=aU();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aL(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function a7(e,t,n){return 0==(21&aI)?(e.baseState&&(e.baseState=!1,sw=!0),e.memoizedState=n):(nG(n,t)||(n=t_(),aE.lanes|=n,og|=n,e.baseState=!0),t)}function se(e,t){var n=tC;tC=0!==n&&4>n?n:4,e(!0);var r=aS.transition;aS.transition={};try{e(!1),t()}finally{tC=n,aS.transition=r}}function st(){return aU().memoizedState}function sn(e,t,n){var r=oA(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},si(e)?sa(t,n):null!==(n=iY(e,t,n,r))&&(oM(n,e,r,oL()),ss(n,t,r))}function sr(e,t,n){var r=oA(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(si(e))sa(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,nG(o,s)){var l=t.interleaved;null===l?(i.next=i,iG(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=iY(e,t,i,r))&&(oM(n,e,r,i=oL()),ss(n,t,r))}}function si(e){var t=e.alternate;return e===aE||null!==t&&t===aE}function sa(e,t){aN=ax=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ss(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tk(e,n)}}var so={readContext:iK,useCallback:aD,useContext:aD,useEffect:aD,useImperativeHandle:aD,useInsertionEffect:aD,useLayoutEffect:aD,useMemo:aD,useReducer:aD,useRef:aD,useState:aD,useDebugValue:aD,useDeferredValue:aD,useTransition:aD,useMutableSource:aD,useSyncExternalStore:aD,useId:aD,unstable_isNewReconciler:!1},sl={readContext:iK,useCallback:function(e,t){return aF().memoizedState=[e,void 0===t?null:t],e},useContext:iK,useEffect:a0,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,aX(4194308,4,a4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return aX(4194308,4,e,t)},useInsertionEffect:function(e,t){return aX(4,2,e,t)},useMemo:function(e,t){var n=aF();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=aF();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sn.bind(null,aE,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},aF().memoizedState=e},useState:aG,useDebugValue:a5,useDeferredValue:function(e){return aF().memoizedState=e},useTransition:function(){var e=aG(!1),t=e[0];return e=se.bind(null,e[1]),aF().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aE,i=aF();if(iE){if(void 0===n)throw Error(c(407));n=n()}else{if(n=t(),null===ou)throw Error(c(349));0!=(30&aI)||aB(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,a0(aH.bind(null,r,a,e),[e]),r.flags|=2048,aY(9,a$.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=aF(),t=ou.identifierPrefix;if(iE){var n=i_,r=iy;t=":"+t+"R"+(n=(r&~(1<<32-td(r)-1)).toString(32)+n),0<(n=aR++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=aO++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:iK,useCallback:a8,useContext:iK,useEffect:a1,useImperativeHandle:a6,useInsertionEffect:a2,useLayoutEffect:a3,useMemo:a9,useReducer:aj,useRef:aJ,useState:function(){return aj(az)},useDebugValue:a5,useDeferredValue:function(e){return a7(aU(),aT.memoizedState,e)},useTransition:function(){return[aj(az)[0],aU().memoizedState]},useMutableSource:aW,useSyncExternalStore:aV,useId:st,unstable_isNewReconciler:!1},sc={readContext:iK,useCallback:a8,useContext:iK,useEffect:a1,useImperativeHandle:a6,useInsertionEffect:a2,useLayoutEffect:a3,useMemo:a9,useReducer:aq,useRef:aJ,useState:function(){return aq(az)},useDebugValue:a5,useDeferredValue:function(e){var t=aU();return null===aT?t.memoizedState=e:a7(t,aT.memoizedState,e)},useTransition:function(){return[aq(az)[0],aU().memoizedState]},useMutableSource:aW,useSyncExternalStore:aV,useId:st,unstable_isNewReconciler:!1};function sd(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1);case 11:return e=ea(e.type.render,!1);case 1:return e=ea(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function sh(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function sf(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var sp="function"==typeof WeakMap?WeakMap:Map;function sm(e,t,n){(n=i1(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oS||(oS=!0,oI=r),sf(e,t)},n}function sg(e,t,n){(n=i1(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sf(e,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){sf(e,t),"function"!=typeof r&&(null===oE?oE=new Set([this]):oE.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function sv(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new sp;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=o3.bind(null,e,t,n),t.then(e,e))}function sy(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function s_(e,t,n,r,i){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i1(-1,1)).tag=2,i2(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=i),e}var sb=E.ReactCurrentOwner,sw=!1;function sk(e,t,n,r){t.child=null===e?au(t,null,n,r):al(t,e.child,n,r)}function sC(e,t,n,r,i){n=n.render;var a=t.ref;return(iH(t,i),r=aA(e,t,n,r,a,i),n=aM(),null===e||sw)?(iE&&n&&ik(t),t.flags|=1,sk(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sW(e,t,i))}function sS(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||o7(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=lt(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,sI(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:nY)(s,r)&&e.ref===t.ref)return sW(e,t,i)}return t.flags|=1,(e=le(a,r)).ref=t.ref,e.return=t,t.child=e}function sI(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nY(a,r)&&e.ref===t.ref){if(sw=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,sW(e,t,i);0!=(131072&e.flags)&&(sw=!0)}}return sP(e,t,n,r,i)}function sE(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(of,oh),oh|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(of,oh),oh|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,r2(of,oh),oh|=r}}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,r2(of,oh),oh|=r;return sk(e,t,i,n),t.child}function sT(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sP(e,t,n,r,i){var a=r9(n)?r5:r4.current;return(a=r8(t,a),iH(t,i),n=aA(e,t,n,r,a,i),r=aM(),null===e||sw)?(iE&&r&&ik(t),t.flags|=1,sk(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sW(e,t,i))}function sx(e,t,n,r,i){if(r9(n)){var a=!0;ir(t)}else a=!1;if(iH(t,i),null===t.stateNode)sq(e,t),at(t,n,r),ar(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?iK(u):r8(t,u=r9(n)?r5:r4.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==r||l!==u)&&an(t,s,r,u),iX=!1;var h=t.memoizedState;s.state=h,i6(t,r,s,i),l=t.memoizedState,o!==r||h!==l||r6.current||iX?("function"==typeof c&&(i9(t,n,c,r),l=t.memoizedState),(o=iX||ae(t,n,o,r,h,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,i0(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:iU(t.type,o),s.props=u,d=t.pendingProps,h=s.context,l="object"==typeof(l=n.contextType)&&null!==l?iK(l):r8(t,l=r9(n)?r5:r4.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==d||h!==l)&&an(t,s,r,l),iX=!1,h=t.memoizedState,s.state=h,i6(t,r,s,i);var p=t.memoizedState;o!==d||h!==p||r6.current||iX?("function"==typeof f&&(i9(t,n,f,r),p=t.memoizedState),(u=iX||ae(t,n,u,r,h,p,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return sN(e,t,n,r,a,i)}function sN(e,t,n,r,i,a){sT(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&ii(t,n,!1),sW(e,t,a);r=t.stateNode,sb.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=al(t,e.child,null,a),t.child=al(t,null,o,a)):sk(e,t,o,a),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function sR(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),am(e,t.containerInfo)}function sO(e,t,n,r,i){return iA(),iM(i),t.flags|=256,sk(e,t,n,r),t.child}var sD={dehydrated:null,treeContext:null,retryLane:0};function sL(e){return{baseLanes:e,cachePool:null,transitions:null}}function sA(e,t,n){var r,i=t.pendingProps,a=a_.current,s=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(a|=1),r2(a_,1&a),null===e)return(iR(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=lr(o,i,0,null),e=ln(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=sL(n),t.memoizedState=sD,e):sM(t,o));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,sF(e,t,s,r=sh(Error(c(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=lr({mode:"visible",children:r.children},i,0,null),a=ln(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&al(t,e.child,null,s),t.child.memoizedState=sL(s),t.memoizedState=sD,a);if(0==(1&t.mode))return sF(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var o=r.dgst;return r=o,sF(e,t,s,r=sh(a=Error(c(419)),r,void 0))}if(o=0!=(s&e.childLanes),sw||o){if(null!==(r=ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,iJ(e,i),oM(r,e,i,-1))}return oG(),sF(e,t,s,r=sh(Error(c(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=o6.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,iI=rz(i.nextSibling),iS=t,iE=!0,iT=null,null!==e&&(im[ig++]=iy,im[ig++]=i_,im[ig++]=iv,iy=e.id,i_=e.overflow,iv=t),t=sM(t,r.children),t.flags|=4096,t)}(e,t,o,i,r,a,n);if(s){s=i.fallback,o=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&o)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=le(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=le(r,s):(s=ln(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=null===(o=e.child.memoizedState)?sL(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=sD,i}return e=(s=e.child).sibling,i=le(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function sM(e,t){return(t=lr({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function sF(e,t,n,r){return null!==r&&iM(r),al(t,e.child,null,n),e=sM(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sU(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),i$(e.return,t,n)}function sz(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function sj(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(sk(e,t,r.children,n),0!=(2&(r=a_.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sU(e,n,t);else if(19===e.tag)sU(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(a_,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===ab(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sz(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ab(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sz(t,!0,n,null,a);break;case"together":sz(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sq(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sW(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),og|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(c(153));if(null!==t.child){for(n=le(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=le(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sV(e,t){if(!iE)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sB(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},i=function(){},a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ap(ad.current);var a,s=null;switch(n){case"input":i=ed(e,i),r=ed(e,r),s=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),s=[];break;case"textarea":i=e_(e,i),r=e_(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rx)}for(u in eL(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u]){if("style"===u){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(h.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null))}for(u in r){var l=r[u];if(o=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(null!=l||null!=o)){if("style"===u){if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l}else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(h.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&rm("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},s=function(e,t,n,r){n!==r&&(t.flags|=4)};var s$=!1,sH=!1,sK="function"==typeof WeakSet?WeakSet:Set,sQ=null;function sG(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){o2(e,t,n)}else n.current=null}}function sY(e,t,n){try{n()}catch(n){o2(e,t,n)}}var sJ=!1;function sX(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&sY(t,n,a)}i=i.next}while(i!==r)}}function sZ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function s0(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function s1(e){return 5===e.tag||3===e.tag||4===e.tag}function s2(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||s1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var s3=null,s4=!1;function s6(e,t,n){for(n=n.child;null!==n;)s5(e,t,n),n=n.sibling}function s5(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:sH||sG(n,t);case 6:var r=s3,i=s4;s3=null,s6(e,t,n),s3=r,s4=i,null!==s3&&(s4?(e=s3,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):s3.removeChild(n.stateNode));break;case 18:null!==s3&&(s4?(e=s3,n=n.stateNode,8===e.nodeType?rU(e.parentNode,n):1===e.nodeType&&rU(e,n),tH(e)):rU(s3,n.stateNode));break;case 4:r=s3,i=s4,s3=n.stateNode.containerInfo,s4=!0,s6(e,t,n),s3=r,s4=i;break;case 0:case 11:case 14:case 15:if(!sH&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!=(2&a)?sY(n,t,s):0!=(4&a)&&sY(n,t,s)),i=i.next}while(i!==r)}s6(e,t,n);break;case 1:if(!sH&&(sG(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){o2(n,t,e)}s6(e,t,n);break;case 21:default:s6(e,t,n);break;case 22:1&n.mode?(sH=(r=sH)||null!==n.memoizedState,s6(e,t,n),sH=r):s6(e,t,n)}}function s8(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sK),t.forEach(function(t){var r=o5.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function s9(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:s3=s.stateNode,s4=!1;break e;case 3:case 4:s3=s.stateNode.containerInfo,s4=!0;break e}s=s.return}if(null===s3)throw Error(c(160));s5(e,a,i),s3=null,s4=!1;var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){o2(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)s7(t,e),t=t.sibling}function s7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(s9(t,e),oe(e),4&r){try{sX(3,e,e.return),sZ(3,e)}catch(t){o2(e,e.return,t)}try{sX(5,e,e.return)}catch(t){o2(e,e.return,t)}}break;case 1:s9(t,e),oe(e),512&r&&null!==n&&sG(n,n.return);break;case 5:if(s9(t,e),oe(e),512&r&&null!==n&&sG(n,n.return),32&e.flags){var i=e.stateNode;try{eP(i,"")}catch(t){o2(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===a.type&&null!=a.name&&ef(i,a),eA(o,s);var u=eA(o,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?eO(i,h):"dangerouslySetInnerHTML"===d?eT(i,h):"children"===d?eP(i,h):I(i,d,h,u)}switch(o){case"input":ep(i,a);break;case"textarea":ew(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ey(i,!!a.multiple,p,!1):!!a.multiple!==f&&(null!=a.defaultValue?ey(i,!!a.multiple,a.defaultValue,!0):ey(i,!!a.multiple,a.multiple?[]:"",!1))}i[rV]=a}catch(t){o2(e,e.return,t)}}break;case 6:if(s9(t,e),oe(e),4&r){if(null===e.stateNode)throw Error(c(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){o2(e,e.return,t)}}break;case 3:if(s9(t,e),oe(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tH(t.containerInfo)}catch(t){o2(e,e.return,t)}break;case 4:default:s9(t,e),oe(e);break;case 13:s9(t,e),oe(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,a&&(null===i.alternate||null===i.alternate.memoizedState)&&(ow=tn())),4&r&&s8(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(sH=(u=sH)||d,s9(t,e),sH=u):s9(t,e),oe(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!=(1&e.mode))for(sQ=e,d=e.child;null!==d;){for(h=sQ=d;null!==sQ;){switch(p=(f=sQ).child,f.tag){case 0:case 11:case 14:case 15:sX(4,f,f.return);break;case 1:sG(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){o2(r,n,e)}}break;case 5:sG(f,f.return);break;case 22:if(null!==f.memoizedState){on(h);continue}}null!==p?(p.return=f,sQ=p):on(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?(a=i.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,s=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=eR("display",s))}catch(t){o2(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){o2(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:s9(t,e),oe(e),4&r&&s8(e);case 21:}}function oe(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(s1(n)){var r=n;break e}n=n.return}throw Error(c(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eP(i,""),r.flags&=-33);var a=s2(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=s2(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rx));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,o,s);break;default:throw Error(c(161))}}catch(t){o2(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ot(e){for(;null!==sQ;){var t=sQ;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sH||sZ(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sH){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:iU(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var a=t.updateQueue;null!==a&&i5(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}i5(t,s,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&tH(h)}}}break;default:throw Error(c(163))}sH||512&t.flags&&s0(t)}catch(e){o2(t,t.return,e)}}if(t===e){sQ=null;break}if(null!==(n=t.sibling)){n.return=t.return,sQ=n;break}sQ=t.return}}function on(e){for(;null!==sQ;){var t=sQ;if(t===e){sQ=null;break}var n=t.sibling;if(null!==n){n.return=t.return,sQ=n;break}sQ=t.return}}function or(e){for(;null!==sQ;){var t=sQ;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sZ(4,t)}catch(e){o2(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){o2(t,i,e)}}var a=t.return;try{s0(t)}catch(e){o2(t,a,e)}break;case 5:var s=t.return;try{s0(t)}catch(e){o2(t,s,e)}}}catch(e){o2(t,t.return,e)}if(t===e){sQ=null;break}var o=t.sibling;if(null!==o){o.return=t.return,sQ=o;break}sQ=t.return}}var oi=Math.ceil,oa=E.ReactCurrentDispatcher,os=E.ReactCurrentOwner,oo=E.ReactCurrentBatchConfig,ol=0,ou=null,oc=null,od=0,oh=0,of=r0(0),op=0,om=null,og=0,ov=0,oy=0,o_=null,ob=null,ow=0,ok=1/0,oC=null,oS=!1,oI=null,oE=null,oT=!1,oP=null,ox=0,oN=0,oR=null,oO=-1,oD=0;function oL(){return 0!=(6&ol)?tn():-1!==oO?oO:oO=tn()}function oA(e){return 0==(1&e.mode)?1:0!=(2&ol)&&0!==od?od&-od:null!==iF.transition?(0===oD&&(oD=t_()),oD):0!==(e=tC)?e:e=void 0===(e=window.event)?16:t0(e.type)}function oM(e,t,n,r){if(50<oN)throw oN=0,oR=null,Error(c(185));tw(e,n,r),(0==(2&ol)||e!==ou)&&(e===ou&&(0==(2&ol)&&(ov|=n),4===op&&oq(e,od)),oF(e,r),1===n&&0===ol&&0==(1&t.mode)&&(ok=tn()+500,is&&iu()))}function oF(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-td(a),o=1<<s,l=i[s];-1===l?(0==(o&n)||0!=(o&r))&&(i[s]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var i=tv(e,e===ou?od:0);if(0===i)null!==r&&e7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&e7(r),1===t)0===e.tag?(n=oW.bind(null,e),is=!0,il(n)):il(oW.bind(null,e)),rM(function(){0==(6&ol)&&iu()}),r=null;else{switch(tS(i)){case 1:r=ti;break;case 4:r=ta;break;case 16:default:r=ts;break;case 536870912:r=tl}r=e9(r,oU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oU(e,t){if(oO=-1,oD=0,0!=(6&ol))throw Error(c(327));var n=e.callbackNode;if(o0()&&e.callbackNode!==n)return null;var r=tv(e,e===ou?od:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=oY(e,r);else{t=r;var i=ol;ol|=2;var a=oQ();for((ou!==e||od!==t)&&(oC=null,ok=tn()+500,oH(e,t));;)try{(function(){for(;null!==oc&&!te();)oJ(oc)})();break}catch(t){oK(e,t)}iV(),oa.current=a,ol=i,null!==oc?t=0:(ou=null,od=0,t=op)}if(0!==t){if(2===t&&0!==(i=ty(e))&&(r=i,t=oz(e,i)),1===t)throw n=om,oH(e,0),oq(e,r),oF(e,tn()),n;if(6===t)oq(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!nG(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=oY(e,r))&&0!==(a=ty(e))&&(r=a,t=oz(e,a)),1===t))throw n=om,oH(e,0),oq(e,r),oF(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(c(345));case 2:case 5:oZ(e,ob,oC);break;case 3:if(oq(e,r),(130023424&r)===r&&10<(t=ow+500-tn())){if(0!==tv(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oL(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rD(oZ.bind(null,e,ob,oC),t);break}oZ(e,ob,oC);break;case 4:if(oq(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var s=31-td(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oi(r/1960))-r)){e.timeoutHandle=rD(oZ.bind(null,e,ob,oC),r);break}oZ(e,ob,oC);break;default:throw Error(c(329))}}}return oF(e,tn()),e.callbackNode===n?oU.bind(null,e):null}function oz(e,t){var n=o_;return e.current.memoizedState.isDehydrated&&(oH(e,t).flags|=256),2!==(e=oY(e,t))&&(t=ob,ob=n,null!==t&&oj(t)),e}function oj(e){null===ob?ob=e:ob.push.apply(ob,e)}function oq(e,t){for(t&=~oy,t&=~ov,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-td(t),r=1<<n;e[n]=-1,t&=~r}}function oW(e){if(0!=(6&ol))throw Error(c(327));o0();var t=tv(e,0);if(0==(1&t))return oF(e,tn()),null;var n=oY(e,t);if(0!==e.tag&&2===n){var r=ty(e);0!==r&&(t=r,n=oz(e,r))}if(1===n)throw n=om,oH(e,0),oq(e,t),oF(e,tn()),n;if(6===n)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oZ(e,ob,oC),oF(e,tn()),null}function oV(e,t){var n=ol;ol|=1;try{return e(t)}finally{0===(ol=n)&&(ok=tn()+500,is&&iu())}}function oB(e){null!==oP&&0===oP.tag&&0==(6&ol)&&o0();var t=ol;ol|=1;var n=oo.transition,r=tC;try{if(oo.transition=null,tC=1,e)return e()}finally{tC=r,oo.transition=n,0==(6&(ol=t))&&iu()}}function o$(){oh=of.current,r1(of)}function oH(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rL(n)),null!==oc)for(n=oc.return;null!==n;){var r=n;switch(iC(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r7();break;case 3:ag(),r1(r6),r1(r4),ak();break;case 5:ay(r);break;case 4:ag();break;case 13:case 19:r1(a_);break;case 10:iB(r.type._context);break;case 22:case 23:o$()}n=n.return}if(ou=e,oc=e=le(e.current,null),od=oh=t,op=0,om=null,oy=ov=og=0,ob=o_=null,null!==iQ){for(t=0;t<iQ.length;t++)if(null!==(r=(n=iQ[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}iQ=null}return e}function oK(e,t){for(;;){var n=oc;try{if(iV(),aC.current=so,ax){for(var r=aE.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ax=!1}if(aI=0,aP=aT=aE=null,aN=!1,aR=0,os.current=null,null===n||null===n.return){op=1,om=t,oc=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=od,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,d=o,h=d.tag;if(0==(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sy(s);if(null!==p){p.flags&=-257,s_(p,s,o,a,t),1&p.mode&&sv(a,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){sv(a,u,t),oG();break e}l=Error(c(426))}else if(iE&&1&o.mode){var v=sy(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),s_(v,s,o,a,t),iM(sd(l,o));break e}}a=l=sd(l,o),4!==op&&(op=2),null===o_?o_=[a]:o_.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=sm(a,l,t);i4(a,y);break e;case 1:o=l;var _=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof _.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===oE||!oE.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=sg(a,o,t);i4(a,w);break e}}a=a.return}while(null!==a)}oX(n)}catch(e){t=e,oc===n&&null!==n&&(oc=n=n.return);continue}break}}function oQ(){var e=oa.current;return oa.current=so,null===e?so:e}function oG(){(0===op||3===op||2===op)&&(op=4),null===ou||0==(268435455&og)&&0==(268435455&ov)||oq(ou,od)}function oY(e,t){var n=ol;ol|=2;var r=oQ();for((ou!==e||od!==t)&&(oC=null,oH(e,t));;)try{(function(){for(;null!==oc;)oJ(oc)})();break}catch(t){oK(e,t)}if(iV(),ol=n,oa.current=r,null!==oc)throw Error(c(261));return ou=null,od=0,op}function oJ(e){var t=o(e.alternate,e,oh);e.memoizedProps=e.pendingProps,null===t?oX(e):oc=t,os.current=null}function oX(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var o=t.pendingProps;switch(iC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sB(t),null;case 1:case 17:return r9(t.type)&&r7(),sB(t),null;case 3:return o=t.stateNode,ag(),r1(r6),r1(r4),ak(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===e||null===e.child)&&(iD(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iT&&(oj(iT),iT=null))),i(e,t),sB(t),null;case 5:ay(t);var l=ap(af.current);if(n=t.type,null!==e&&null!=t.stateNode)a(e,t,n,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(c(166));return sB(t),null}if(e=ap(ad.current),iD(t)){o=t.stateNode,n=t.type;var u=t.memoizedProps;switch(o[rW]=t,o[rV]=u,e=0!=(1&t.mode),n){case"dialog":rm("cancel",o),rm("close",o);break;case"iframe":case"object":case"embed":rm("load",o);break;case"video":case"audio":for(l=0;l<rd.length;l++)rm(rd[l],o);break;case"source":rm("error",o);break;case"img":case"image":case"link":rm("error",o),rm("load",o);break;case"details":rm("toggle",o);break;case"input":eh(o,u),rm("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},rm("invalid",o);break;case"textarea":eb(o,u),rm("invalid",o)}for(var d in eL(n,u),l=null,u)if(u.hasOwnProperty(d)){var f=u[d];"children"===d?"string"==typeof f?o.textContent!==f&&(!0!==u.suppressHydrationWarning&&rP(o.textContent,f,e),l=["children",f]):"number"==typeof f&&o.textContent!==""+f&&(!0!==u.suppressHydrationWarning&&rP(o.textContent,f,e),l=["children",""+f]):h.hasOwnProperty(d)&&null!=f&&"onScroll"===d&&rm("scroll",o)}switch(n){case"input":el(o),em(o,u,!0);break;case"textarea":el(o),ek(o);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(o.onclick=rx)}o=l,t.updateQueue=o,null!==o&&(t.flags|=4)}else{d=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=eC(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=d.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=d.createElement(n,{is:o.is}):(e=d.createElement(n),"select"===n&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,n),e[rW]=t,e[rV]=o,r(e,t,!1,!1),t.stateNode=e;e:{switch(d=eA(n,o),n){case"dialog":rm("cancel",e),rm("close",e),l=o;break;case"iframe":case"object":case"embed":rm("load",e),l=o;break;case"video":case"audio":for(l=0;l<rd.length;l++)rm(rd[l],e);l=o;break;case"source":rm("error",e),l=o;break;case"img":case"image":case"link":rm("error",e),rm("load",e),l=o;break;case"details":rm("toggle",e),l=o;break;case"input":eh(e,o),l=ed(e,o),rm("invalid",e);break;case"option":default:l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=en({},o,{value:void 0}),rm("invalid",e);break;case"textarea":eb(e,o),l=e_(e,o),rm("invalid",e)}for(u in eL(n,l),f=l)if(f.hasOwnProperty(u)){var p=f[u];"style"===u?eO(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&eT(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&eP(e,p):"number"==typeof p&&eP(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(h.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rm("scroll",e):null!=p&&I(e,u,p,d))}switch(n){case"input":el(e),em(e,o,!1);break;case"textarea":el(e),ek(e);break;case"option":null!=o.value&&e.setAttribute("value",""+es(o.value));break;case"select":e.multiple=!!o.multiple,null!=(u=o.value)?ey(e,!!o.multiple,u,!1):null!=o.defaultValue&&ey(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rx)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return sB(t),null;case 6:if(e&&null!=t.stateNode)s(e,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(c(166));if(n=ap(af.current),ap(ad.current),iD(t)){if(o=t.stateNode,n=t.memoizedProps,o[rW]=t,(u=o.nodeValue!==n)&&null!==(e=iS))switch(e.tag){case 3:rP(o.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rP(o.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[rW]=t,t.stateNode=o}return sB(t),null;case 13:if(r1(a_),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iE&&null!==iI&&0!=(1&t.mode)&&0==(128&t.flags))iL(),iA(),t.flags|=98560,u=!1;else if(u=iD(t),null!==o&&null!==o.dehydrated){if(null===e){if(!u)throw Error(c(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(c(317));u[rW]=t}else iA(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sB(t),u=!1}else null!==iT&&(oj(iT),iT=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(o=null!==o)!=(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&a_.current)?0===op&&(op=3):oG())),null!==t.updateQueue&&(t.flags|=4),sB(t),null;case 4:return ag(),i(e,t),null===e&&ry(t.stateNode.containerInfo),sB(t),null;case 10:return iB(t.type._context),sB(t),null;case 19:if(r1(a_),null===(u=t.memoizedState))return sB(t),null;if(o=0!=(128&t.flags),null===(d=u.rendering)){if(o)sV(u,!1);else{if(0!==op||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(d=ab(e))){for(t.flags|=128,sV(u,!1),null!==(o=d.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)u=n,e=o,u.flags&=14680066,null===(d=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=d.childLanes,u.lanes=d.lanes,u.child=d.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=d.memoizedProps,u.memoizedState=d.memoizedState,u.updateQueue=d.updateQueue,u.type=d.type,e=d.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(a_,1&a_.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>ok&&(t.flags|=128,o=!0,sV(u,!1),t.lanes=4194304)}}else{if(!o){if(null!==(e=ab(d))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sV(u,!0),null===u.tail&&"hidden"===u.tailMode&&!d.alternate&&!iE)return sB(t),null}else 2*tn()-u.renderingStartTime>ok&&1073741824!==n&&(t.flags|=128,o=!0,sV(u,!1),t.lanes=4194304)}u.isBackwards?(d.sibling=t.child,t.child=d):(null!==(n=u.last)?n.sibling=d:t.child=d,u.last=d)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=a_.current,r2(a_,o?1&n|2:1&n),t;return sB(t),null;case 22:case 23:return o$(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!=(1&t.mode)?0!=(1073741824&oh)&&(sB(t),6&t.subtreeFlags&&(t.flags|=8192)):sB(t),null;case 24:case 25:return null}throw Error(c(156,t.tag))}(n,t,oh))){oc=n;return}}else{if(null!==(n=function(e,t){switch(iC(t),t.tag){case 1:return r9(t.type)&&r7(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ag(),r1(r6),r1(r4),ak(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ay(t),null;case 13:if(r1(a_),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(c(340));iA()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(a_),null;case 4:return ag(),null;case 10:return iB(t.type._context),null;case 22:case 23:return o$(),null;default:return null}}(n,t))){n.flags&=32767,oc=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{op=6,oc=null;return}}if(null!==(t=t.sibling)){oc=t;return}oc=t=e}while(null!==t)0===op&&(op=5)}function oZ(e,t,n){var r=tC,i=oo.transition;try{oo.transition=null,tC=1,function(e,t,n,r){do o0();while(null!==oP)if(0!=(6&ol))throw Error(c(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-td(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===ou&&(oc=ou=null,od=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||oT||(oT=!0,s=ts,o=function(){return o0(),null},e9(s,o)),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=oo.transition,oo.transition=null;var s,o,l,u,d,h=tC;tC=1;var f=ol;ol|=4,os.current=null,function(e,t){if(rN=tQ,n0(e=nZ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,d=0,h=0,f=e,p=null;t:for(;;){for(;f!==n||0!==a&&3!==f.nodeType||(l=o+a),f!==s||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++d===a&&(l=o),p===s&&++h===r&&(u=o),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rR={focusedElem:e,selectionRange:n},tQ=!1,sQ=t;null!==sQ;)if(e=(t=sQ).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,sQ=e;else for(;null!==sQ;){t=sQ;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:iU(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(c(163))}}catch(e){o2(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,sQ=e;break}sQ=t.return}m=sJ,sJ=!1}(e,n),s7(n,e),function(e){var t=nZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=nX(n,a);var s=nX(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rR),tQ=!!rN,rR=rN=null,e.current=n,l=n,u=e,d=i,sQ=l,function e(t,n,r){for(var i=0!=(1&t.mode);null!==sQ;){var a=sQ,s=a.child;if(22===a.tag&&i){var o=null!==a.memoizedState||s$;if(!o){var l=a.alternate,u=null!==l&&null!==l.memoizedState||sH;l=s$;var c=sH;if(s$=o,(sH=u)&&!c)for(sQ=a;null!==sQ;)u=(o=sQ).child,22===o.tag&&null!==o.memoizedState?or(a):null!==u?(u.return=o,sQ=u):or(a);for(;null!==s;)sQ=s,e(s,n,r),s=s.sibling;sQ=a,s$=l,sH=c}ot(t,n,r)}else 0!=(8772&a.subtreeFlags)&&null!==s?(s.return=a,sQ=s):ot(t,n,r)}}(l,u,d),tt(),ol=f,tC=h,oo.transition=a}else e.current=n;if(oT&&(oT=!1,oP=e,ox=i),0===(a=e.pendingLanes)&&(oE=null),function(e){if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),oF(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(oS)throw oS=!1,e=oI,oI=null,e;0!=(1&ox)&&0!==e.tag&&o0(),0!=(1&(a=e.pendingLanes))?e===oR?oN++:(oN=0,oR=e):oN=0,iu()}}(e,t,n,r)}finally{oo.transition=i,tC=r}return null}function o0(){if(null!==oP){var e=tS(ox),t=oo.transition,n=tC;try{if(oo.transition=null,tC=16>e?16:e,null===oP)var r=!1;else{if(e=oP,oP=null,ox=0,0!=(6&ol))throw Error(c(331));var i=ol;for(ol|=4,sQ=e.current;null!==sQ;){var a=sQ,s=a.child;if(0!=(16&sQ.flags)){var o=a.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(sQ=u;null!==sQ;){var d=sQ;switch(d.tag){case 0:case 11:case 15:sX(8,d,a)}var h=d.child;if(null!==h)h.return=d,sQ=h;else for(;null!==sQ;){var f=(d=sQ).sibling,p=d.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rW],delete n[rV],delete n[r$],delete n[rH],delete n[rK]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(d),d===u){sQ=null;break}if(null!==f){f.return=p,sQ=f;break}sQ=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}sQ=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,sQ=s;else for(;null!==sQ;){if(a=sQ,0!=(2048&a.flags))switch(a.tag){case 0:case 11:case 15:sX(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,sQ=y;break}sQ=a.return}}var _=e.current;for(sQ=_;null!==sQ;){var b=(s=sQ).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,sQ=b;else for(s=_;null!==sQ;){if(o=sQ,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:sZ(9,o)}}catch(e){o2(o,o.return,e)}if(o===s){sQ=null;break}var w=o.sibling;if(null!==w){w.return=o.return,sQ=w;break}sQ=o.return}}if(ol=i,iu(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tC=n,oo.transition=t}}return!1}function o1(e,t,n){t=sm(e,t=sd(n,t),1),e=i2(e,t,1),t=oL(),null!==e&&(tw(e,1,t),oF(e,t))}function o2(e,t,n){if(3===e.tag)o1(e,e,n);else for(;null!==t;){if(3===t.tag){o1(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oE||!oE.has(r))){e=sg(t,e=sd(n,e),1),t=i2(t,e,1),e=oL(),null!==t&&(tw(t,1,e),oF(t,e));break}}t=t.return}}function o3(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oL(),e.pingedLanes|=e.suspendedLanes&n,ou===e&&(od&n)===n&&(4===op||3===op&&(130023424&od)===od&&500>tn()-ow?oH(e,0):oy|=n),oF(e,t)}function o4(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tm,0==(130023424&(tm<<=1))&&(tm=4194304)));var n=oL();null!==(e=iJ(e,t))&&(tw(e,t,n),oF(e,n))}function o6(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),o4(e,n)}function o5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(c(314))}null!==r&&r.delete(t),o4(e,n)}function o8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function o9(e,t,n,r){return new o8(e,t,n,r)}function o7(e){return!(!(e=e.prototype)||!e.isReactComponent)}function le(e,t){var n=e.alternate;return null===n?((n=o9(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lt(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)o7(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return ln(n.children,i,a,t);case N:s=8,i|=8;break;case R:return(e=o9(12,n,t,2|i)).elementType=R,e.lanes=a,e;case A:return(e=o9(13,n,t,i)).elementType=A,e.lanes=a,e;case M:return(e=o9(19,n,t,i)).elementType=M,e.lanes=a,e;case z:return lr(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case D:s=9;break e;case L:s=11;break e;case F:s=14;break e;case U:s=16,r=null;break e}throw Error(c(130,null==e?e:typeof e,""))}return(t=o9(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ln(e,t,n,r){return(e=o9(7,e,r,t)).lanes=n,e}function lr(e,t,n,r){return(e=o9(22,e,r,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function li(e,t,n){return(e=o9(6,e,null,t)).lanes=n,e}function la(e,t,n){return(t=o9(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ls(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lo(e,t,n,r,i,a,s,o,l){return e=new ls(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=o9(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iZ(a),e}function ll(e){if(!e)return r3;e=e._reactInternals;e:{if(e4(e)!==e||1!==e.tag)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r9(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(c(171))}if(1===e.tag){var n=e.type;if(r9(n))return it(e,n,t)}return t}function lu(e,t,n,r,i,a,s,o,l){return(e=lo(n,r,!0,e,i,a,s,o,l)).context=ll(null),n=e.current,(a=i1(r=oL(),i=oA(n))).callback=null!=t?t:null,i2(n,a,i),e.current.lanes=i,tw(e,i,r),oF(e,r),e}function lc(e,t,n,r){var i=t.current,a=oL(),s=oA(i);return n=ll(n),null===t.context?t.context=n:t.pendingContext=n,(t=i1(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i2(i,t,s))&&(oM(e,i,s,a),i3(e,i,s)),s}function ld(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lf(e,t){lh(e,t),(e=e.alternate)&&lh(e,t)}o=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||r6.current)sw=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return sw=!1,function(e,t,n){switch(t.tag){case 3:sR(t),iA();break;case 5:av(t);break;case 1:r9(t.type)&&ir(t);break;case 4:am(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(iz,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(a_,1&a_.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return sA(e,t,n);return r2(a_,1&a_.current),null!==(e=sW(e,t,n))?e.sibling:null}r2(a_,1&a_.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return sj(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(a_,a_.current),!r)return null;break;case 22:case 23:return t.lanes=0,sE(e,t,n)}return sW(e,t,n)}(e,t,n);sw=0!=(131072&e.flags)}}else sw=!1,iE&&0!=(1048576&t.flags)&&iw(t,ip,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sq(e,t),e=t.pendingProps;var i=r8(t,r4.current);iH(t,n),i=aA(null,t,r,e,i,n);var a=aM();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r9(r)?(a=!0,ir(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,iZ(t),i.updater=i7,t.stateNode=i,i._reactInternals=t,ar(t,r,e,n),t=sN(null,t,r,!0,a,n)):(t.tag=0,iE&&a&&ik(t),sk(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sq(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return o7(e)?1:0;if(null!=e){if((e=e.$$typeof)===L)return 11;if(e===F)return 14}return 2}(r),e=iU(r,e),i){case 0:t=sP(null,t,r,e,n);break e;case 1:t=sx(null,t,r,e,n);break e;case 11:t=sC(null,t,r,e,n);break e;case 14:t=sS(null,t,r,iU(r.type,e),n);break e}throw Error(c(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),sP(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),sx(e,t,r,i,n);case 3:e:{if(sR(t),null===e)throw Error(c(387));r=t.pendingProps,i=(a=t.memoizedState).element,i0(e,t),i6(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){i=sd(Error(c(423)),t),t=sO(e,t,r,n,i);break e}if(r!==i){i=sd(Error(c(424)),t),t=sO(e,t,r,n,i);break e}for(iI=rz(t.stateNode.containerInfo.firstChild),iS=t,iE=!0,iT=null,n=au(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(iA(),r===i){t=sW(e,t,n);break e}sk(e,t,r,n)}t=t.child}return t;case 5:return av(t),null===e&&iR(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,rO(r,i)?s=null:null!==a&&rO(r,a)&&(t.flags|=32),sT(e,t),sk(e,t,s,n),t.child;case 6:return null===e&&iR(t),null;case 13:return sA(e,t,n);case 4:return am(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=al(t,null,r,n):sk(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),sC(e,t,r,i,n);case 7:return sk(e,t,t.pendingProps,n),t.child;case 8:case 12:return sk(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,r2(iz,r._currentValue),r._currentValue=s,null!==a){if(nG(a.value,s)){if(a.children===i.children&&!r6.current){t=sW(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var o=a.dependencies;if(null!==o){s=a.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=i1(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),i$(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(c(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),i$(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}sk(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iH(t,n),r=r(i=iK(i)),t.flags|=1,sk(e,t,r,n),t.child;case 14:return i=iU(r=t.type,t.pendingProps),i=iU(r.type,i),sS(e,t,r,i,n);case 15:return sI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),sq(e,t),t.tag=1,r9(r)?(e=!0,ir(t)):e=!1,iH(t,n),at(t,r,i),ar(t,r,i,n),sN(null,t,r,!0,e,n);case 19:return sj(e,t,n);case 22:return sE(e,t,n)}throw Error(c(156,t.tag))};var lp="function"==typeof reportError?reportError:function(e){console.error(e)};function lm(e){this._internalRoot=e}function lg(e){this._internalRoot=e}function lv(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ly(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function l_(){}function lb(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"==typeof i){var o=i;i=function(){var e=ld(s);o.call(e)}}lc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=ld(s);a.call(e)}}var s=lu(t,r,e,0,null,!1,!1,"",l_);return e._reactRootContainer=s,e[rB]=s.current,ry(8===e.nodeType?e.parentNode:e),oB(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=ld(l);o.call(e)}}var l=lo(e,0,!1,null,null,!1,!1,"",l_);return e._reactRootContainer=l,e[rB]=l.current,ry(8===e.nodeType?e.parentNode:e),oB(function(){lc(t,l,n,r)}),l}(n,t,e,i,r);return ld(s)}lg.prototype.render=lm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(c(409));lc(e,t,null,null)},lg.prototype.unmount=lm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;oB(function(){lc(null,e,null,null)}),t[rB]=null}},lg.prototype.unstable_scheduleHydration=function(e){if(e){var t=tP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tF.length&&0!==t&&t<tF[n].priority;n++);tF.splice(n,0,e),0===n&&tq(e)}},tI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(tk(t,1|n),oF(t,tn()),0==(6&ol)&&(ok=tn()+500,iu()))}break;case 13:oB(function(){var t=iJ(e,1);null!==t&&oM(t,e,1,oL())}),lf(e,1)}},tE=function(e){if(13===e.tag){var t=iJ(e,134217728);null!==t&&oM(t,e,134217728,oL()),lf(e,134217728)}},tT=function(e){if(13===e.tag){var t=oA(e),n=iJ(e,t);null!==n&&oM(n,e,t,oL()),lf(e,t)}},tP=function(){return tC},tx=function(e,t){var n=tC;try{return tC=e,t()}finally{tC=n}},eU=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rJ(r);if(!i)throw Error(c(90));eu(r),ep(r,i)}}}break;case"textarea":ew(e,n);break;case"select":null!=(t=n.value)&&ey(e,!!n.multiple,t,!1)}},eB=oV,e$=oB;var lw={findFiberByHostInstance:rQ,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lk={bundleType:lw.bundleType,version:lw.version,rendererPackageName:lw.rendererPackageName,rendererConfig:lw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:lw.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lC.isDisabled&&lC.supportsFiber)try{tu=lC.inject(lk),tc=lC}catch(e){}}W={usingClientEntryPoint:!1,Events:[rG,rY,rJ,eW,eV,oV]},V=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lv(t))throw Error(c(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==r?null:""+r,children:e,containerInfo:t,implementation:null}}(e,t,null,n)},B=function(e,t){if(!lv(e))throw Error(c(299));var n=!1,r="",i=lp;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=lo(e,1,!1,null,null,n,!1,r,i),e[rB]=t.current,ry(8===e.nodeType?e.parentNode:e),new lm(t)},$=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(c(188));throw Error(c(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(t))?null:e.stateNode},K=function(e){return oB(e)},Q=function(e,t,n){if(!ly(t))throw Error(c(200));return lb(null,e,t,!0,n)},G=function(e,t,n){if(!lv(e))throw Error(c(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=lp;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=lu(t,null,e,1,null!=n?n:null,i,!1,a,s),e[rB]=t.current,ry(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lg(t)},Y=function(e,t,n){if(!ly(t))throw Error(c(200));return lb(null,e,t,!1,n)},J=function(e){if(!ly(e))throw Error(c(40));return!!e._reactRootContainer&&(oB(function(){lb(null,null,e,!1,function(){e._reactRootContainer=null,e[rB]=null})}),!0)},X=oV,Z=function(e,t,n,r){if(!ly(n))throw Error(c(200));if(null==e||void 0===e._reactInternals)throw Error(c(38));return lb(e,t,n,!1,r)},ee="18.2.0-next-9e3b772b8-20220608"}),K("fO90s",function(e,t){e.exports=H("gcnCG")}),K("gcnCG",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(k(e.exports,"unstable_now",()=>s,e=>s=e),k(e.exports,"unstable_IdlePriority",()=>o,e=>o=e),k(e.exports,"unstable_ImmediatePriority",()=>l,e=>l=e),k(e.exports,"unstable_LowPriority",()=>u,e=>u=e),k(e.exports,"unstable_NormalPriority",()=>c,e=>c=e),k(e.exports,"unstable_Profiling",()=>d,e=>d=e),k(e.exports,"unstable_UserBlockingPriority",()=>h,e=>h=e),k(e.exports,"unstable_cancelCallback",()=>f,e=>f=e),k(e.exports,"unstable_continueExecution",()=>p,e=>p=e),k(e.exports,"unstable_forceFrameRate",()=>m,e=>m=e),k(e.exports,"unstable_getCurrentPriorityLevel",()=>g,e=>g=e),k(e.exports,"unstable_getFirstCallbackNode",()=>v,e=>v=e),k(e.exports,"unstable_next",()=>y,e=>y=e),k(e.exports,"unstable_pauseExecution",()=>_,e=>_=e),k(e.exports,"unstable_requestPaint",()=>b,e=>b=e),k(e.exports,"unstable_runWithPriority",()=>w,e=>w=e),k(e.exports,"unstable_scheduleCallback",()=>C,e=>C=e),k(e.exports,"unstable_shouldYield",()=>S,e=>S=e),k(e.exports,"unstable_wrapCallback",()=>I,e=>I=e),"object"==typeof performance&&"function"==typeof performance.now){var s,o,l,u,c,d,h,f,p,m,g,v,y,_,b,w,C,S,I,E,T=performance;s=function(){return T.now()}}else{var P=Date,x=P.now();s=function(){return P.now()-x}}var N=[],R=[],O=1,D=null,L=3,A=!1,M=!1,F=!1,U="function"==typeof setTimeout?setTimeout:null,z="function"==typeof clearTimeout?clearTimeout:null,j="undefined"!=typeof setImmediate?setImmediate:null;function q(e){for(var t=r(R);null!==t;){if(null===t.callback)i(R);else if(t.startTime<=e)i(R),t.sortIndex=t.expirationTime,n(N,t);else break;t=r(R)}}function W(e){if(F=!1,q(e),!M){if(null!==r(N))M=!0,Z(V);else{var t=r(R);null!==t&&ee(W,t.startTime-e)}}}function V(e,t){M=!1,F&&(F=!1,z(H),H=-1),A=!0;var n=L;try{for(q(t),D=r(N);null!==D&&(!(D.expirationTime>t)||e&&!G());){var a=D.callback;if("function"==typeof a){D.callback=null,L=D.priorityLevel;var o=a(D.expirationTime<=t);t=s(),"function"==typeof o?D.callback=o:D===r(N)&&i(N),q(t)}else i(N);D=r(N)}if(null!==D)var l=!0;else{var u=r(R);null!==u&&ee(W,u.startTime-t),l=!1}return l}finally{D=null,L=n,A=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B=!1,$=null,H=-1,K=5,Q=-1;function G(){return!(s()-Q<K)}function Y(){if(null!==$){var e=s();Q=e;var t=!0;try{t=$(!0,e)}finally{t?E():(B=!1,$=null)}}else B=!1}if("function"==typeof j)E=function(){j(Y)};else if("undefined"!=typeof MessageChannel){var J=new MessageChannel,X=J.port2;J.port1.onmessage=Y,E=function(){X.postMessage(null)}}else E=function(){U(Y,0)};function Z(e){$=e,B||(B=!0,E())}function ee(e,t){H=U(function(){e(s())},t)}o=5,l=1,u=4,c=3,d=null,h=2,f=function(e){e.callback=null},p=function(){M||A||(M=!0,Z(V))},m=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<e?Math.floor(1e3/e):5},g=function(){return L},v=function(){return r(N)},y=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},_=function(){},b=function(){},w=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},C=function(e,t,i){var a=s();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=i+o,e={id:O++,callback:t,priorityLevel:e,startTime:i,expirationTime:o,sortIndex:-1},i>a?(e.sortIndex=i,n(R,e),null===r(N)&&e===r(R)&&(F?(z(H),H=-1):F=!0,ee(W,i-a))):(e.sortIndex=o,n(N,e),M||A||(M=!0,Z(V))),e},S=G,I=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}});var Q={};Q=H("1b2ls");var G={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),D=(G=H("Xw6Mv")).createRoot,G.hydrateRoot;/**
 * React Router DOM v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Y=H("acw62");/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(C=L||(L={})).Pop="POP",C.Push="PUSH",C.Replace="REPLACE";const X="popstate";function Z(e,t){if(!1===e||null==e)throw Error(t)}function ee(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function et(e,t){return{usr:e.state,key:e.key,idx:t}}function en(e,t,n,r){return void 0===n&&(n=null),J({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?ei(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function er(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function ei(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(S=A||(A={})).data="data",S.deferred="deferred",S.redirect="redirect",S.error="error";const ea=/^:[\w-]+$/,es=e=>"*"===e;function eo(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function el(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function eu(e,t){let n=e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0);return t?n.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase):n.map(e=>e.pathnameBase)}function ec(e,t,n,r){let i,a;void 0===r&&(r=!1),"string"==typeof e?i=ei(e):(Z(!(i=J({},e)).pathname||!i.pathname.includes("?"),el("?","pathname","search",i)),Z(!i.pathname||!i.pathname.includes("#"),el("#","pathname","hash",i)),Z(!i.search||!i.search.includes("#"),el("#","search","hash",i)));let s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){let n;void 0===t&&(t="/");let{pathname:r,search:i="",hash:a=""}="string"==typeof e?ei(e):e;return{pathname:r?r.startsWith("/")?r:(n=t.replace(/\/+$/,"").split("/"),r.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:ef(i),hash:ep(a)}}(i,a),u=o&&"/"!==o&&o.endsWith("/"),c=(s||"."===o)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ed=e=>e.join("/").replace(/\/\/+/g,"/"),eh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ef=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ep=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Symbol("deferred");/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Y=H("acw62");function em(){return(em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const eg=Y.createContext(null),ev=Y.createContext(null),ey=Y.createContext(null),e_=Y.createContext(null),eb=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),ew=Y.createContext(null);function ek(){return null!=Y.useContext(e_)}function eC(){return ek()||Z(!1),Y.useContext(e_).location}function eS(e){Y.useContext(ey).static||Y.useLayoutEffect(e)}function eI(){let{isDataRoute:e}=Y.useContext(eb);return e?function(){let e;let{router:t}=(eN.UseNavigateStable,(e=Y.useContext(eg))||Z(!1),e),n=eO(eR.UseNavigateStable),r=Y.useRef(!1);return eS(()=>{r.current=!0}),Y.useCallback(function(e,i){void 0===i&&(i={}),r.current&&("number"==typeof e?t.navigate(e):t.navigate(e,em({fromRouteId:n},i)))},[t,n])}():function(){ek()||Z(!1);let e=Y.useContext(eg),{basename:t,future:n,navigator:r}=Y.useContext(ey),{matches:i}=Y.useContext(eb),{pathname:a}=eC(),s=JSON.stringify(eu(i,n.v7_relativeSplatPath)),o=Y.useRef(!1);return eS(()=>{o.current=!0}),Y.useCallback(function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n){r.go(n);return}let l=ec(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ed([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,s,a,e])}()}function eE(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=Y.useContext(ey),{matches:i}=Y.useContext(eb),{pathname:a}=eC(),s=JSON.stringify(eu(i,r.v7_relativeSplatPath));return Y.useMemo(()=>ec(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}const eT=Y.createElement(function(){var e;let t,n,r;let i=(n=Y.useContext(ew),eR.UseRouteError,(t=Y.useContext(ev))||Z(!1),r=eO(eR.UseRouteError),void 0!==n?n:null==(e=t.errors)?void 0:e[r]),a=null!=i&&"number"==typeof i.status&&"string"==typeof i.statusText&&"boolean"==typeof i.internal&&"data"in i?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},a),s?Y.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},s):null,null)},null);class eP extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Y.createElement(eb.Provider,{value:this.props.routeContext},Y.createElement(ew.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ex(e){let{routeContext:t,match:n,children:r}=e,i=Y.useContext(eg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(eb.Provider,{value:t},r)}var eN=((I=eN||{}).UseBlocker="useBlocker",I.UseRevalidator="useRevalidator",I.UseNavigateStable="useNavigate",I),eR=((E=eR||{}).UseBlocker="useBlocker",E.UseLoaderData="useLoaderData",E.UseActionData="useActionData",E.UseRouteError="useRouteError",E.UseNavigation="useNavigation",E.UseRouteLoaderData="useRouteLoaderData",E.UseMatches="useMatches",E.UseRevalidator="useRevalidator",E.UseNavigateStable="useNavigate",E.UseRouteId="useRouteId",E);function eO(e){let t;let n=((t=Y.useContext(eb))||Z(!1),t),r=n.matches[n.matches.length-1];return r.route.id||Z(!1),r.route.id}const eD={};function eL(e){let{to:t,replace:n,state:r,relative:i}=e;ek()||Z(!1);let{future:a,static:s}=Y.useContext(ey),{matches:o}=Y.useContext(eb),{pathname:l}=eC(),u=eI(),c=JSON.stringify(ec(t,eu(o,a.v7_relativeSplatPath),l,"path"===i));return Y.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function eA(e){Z(!1)}function eM(e){let{basename:t="/",children:n=null,location:r,navigationType:i=L.Pop,navigator:a,static:s=!1,future:o}=e;ek()&&Z(!1);let l=t.replace(/^\/*/,"/"),u=Y.useMemo(()=>({basename:l,navigator:a,static:s,future:em({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);"string"==typeof r&&(r=ei(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=Y.useMemo(()=>{let e=eo(c,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return null==m?null:Y.createElement(ey.Provider,{value:u},Y.createElement(e_.Provider,{children:n,value:m}))}function eF(e){let{children:t,location:n}=e;return function(e,t,n,r){let i;ek()||Z(!1);let{navigator:a}=Y.useContext(ey),{matches:s}=Y.useContext(eb),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=eC();if(t){var d;let e="string"==typeof t?ei(t):t;"/"===u||(null==(d=e.pathname)?void 0:d.startsWith(u))||Z(!1),i=e}else i=c;let h=i.pathname||"/",f=function(e,t,n){void 0===n&&(n="/");let r=eo(("string"==typeof t?ei(t):t).pathname||"/",n);if(null==r)return null;let i=function e(t,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i="");let a=(t,a,s)=>{var o;let l,u,c={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};c.relativePath.startsWith("/")&&(Z(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),c.relativePath=c.relativePath.slice(i.length));let d=ed([i,c.relativePath]),h=r.concat(c);t.children&&t.children.length>0&&(Z(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+d+'".'),e(t.children,n,h,d)),(null!=t.path||t.index)&&n.push({path:d,score:(o=t.index,u=(l=d.split("/")).length,l.some(es)&&(u+=-2),o&&(u+=2),l.filter(e=>!es(e)).reduce((e,t)=>e+(ea.test(t)?3:""===t?1:10),u)),routesMeta:h})};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===i.length)return a?[s,""]:[s];let o=e(i.join("/")),l=[];return l.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...o),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))a(e,t,n);else a(e,t)}),n}(e);!function(e){e.sort((e,t)=>{var n,r;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),r=t.routesMeta.map(e=>e.childrenIndex),n.length===r.length&&n.slice(0,-1).every((e,t)=>e===r[t])?n[n.length-1]-r[r.length-1]:0)})}(i);let a=null;for(let e=0;null==a&&e<i.length;++e)a=function(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let e=0;e<n.length;++e){let s=n[e],o=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=function(e,t){var n,r,i;let a,s;"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[o,l]=(n=e.path,r=e.caseSensitive,i=e.end,void 0===r&&(r=!1),void 0===i&&(i=!0),ee("*"===n||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")),n.endsWith("*")?(a.push({paramName:"*"}),s+="*"===n||"/*"===n?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":""!==n&&"/"!==n&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]),u=t.match(o);if(!u)return null;let c=u[0],d=c.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:l.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=h[n]||"";d=c.slice(0,c.length-e.length).replace(/(.)\/+$/,"$1")}let a=h[n];return i&&!a?e[r]=void 0:e[r]=function(e,t){try{return decodeURIComponent(e)}catch(n){return ee(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a||"",r),e},{}),pathname:c,pathnameBase:d,pattern:e}}({path:s.relativePath,caseSensitive:s.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=s.route;a.push({params:r,pathname:ed([i,u.pathname]),pathnameBase:eh(ed([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=ed([i,u.pathnameBase]))}return a}(i[e],function(e){try{return decodeURI(e)}catch(t){return ee(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(r));return a}(e,{pathname:"/"===u?h:h.slice(u.length)||"/"}),p=function(e,t,n,r){var i,a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){if(null==(a=n)||!a.errors)return null;e=n.matches}let s=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id]));e>=0||Z(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight((e,r,i)=>{var a;let c;let d=!1,h=null,f=null;n&&(c=o&&r.route.id?o[r.route.id]:void 0,h=r.route.errorElement||eT,l&&(u<0&&0===i?(eD[a="route-fallback"]||(eD[a]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,i+1)),m=()=>{let t;return t=c?h:d?f:r.route.Component?Y.createElement(r.route.Component,null):r.route.element?r.route.element:e,Y.createElement(ex,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?Y.createElement(eP,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(f&&f.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ed([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:ed([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,void 0,void 0);return t&&p?Y.createElement(e_.Provider,{value:{location:em({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:L.Pop}},p):p}(function e(t,n){void 0===n&&(n=[]);let r=[];return Y.Children.forEach(t,(t,i)=>{if(!Y.isValidElement(t))return;let a=[...n,i];if(t.type===Y.Fragment){r.push.apply(r,e(t.props.children,a));return}t.type!==eA&&Z(!1),t.props.index&&t.props.children&&Z(!1);let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=e(t.props.children,a)),r.push(s)}),r}(t),n)}Y.startTransition;var eU=((T=eU||{})[T.pending=0]="pending",T[T.success=1]="success",T[T.error=2]="error",T);function ez(){return(ez=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}new Promise(()=>{});const ej=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],eq=Y.startTransition;G.flushSync,Y.useId;const eW="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,eV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eB=Y.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ej),{basename:f}=Y.useContext(ey),p=!1;if("string"==typeof u&&eV.test(u)&&(n=u,eW))try{let e=new URL(window.location.href),t=new URL(u.startsWith("//")?e.protocol+u:u),n=eo(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(e){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;ek()||Z(!1);let{basename:r,navigator:i}=Y.useContext(ey),{hash:a,pathname:s,search:o}=eE(e,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:ed([r,s])),i.createHref({pathname:l,search:o,hash:a})}(u,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:o}=void 0===t?{}:t,l=eI(),u=eC(),c=eE(e,{relative:s});return Y.useCallback(t=>{0!==t.button||n&&"_self"!==n||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),l(e,{replace:void 0!==r?r:er(u)===er(c),state:i,preventScrollReset:a,relative:s,unstable_viewTransition:o}))},[u,l,c,r,i,n,e,a,s,o])}(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});return Y.createElement("a",ez({},h,{href:n||m,onClick:p||a?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))});(P=M||(M={})).UseScrollRestoration="useScrollRestoration",P.UseSubmit="useSubmit",P.UseSubmitFetcher="useSubmitFetcher",P.UseFetcher="useFetcher",P.useViewTransitionState="useViewTransitionState",(x=F||(F={})).UseFetcher="useFetcher",x.UseFetchers="useFetchers",x.UseScrollRestoration="useScrollRestoration";var Y=H("acw62");const e$=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],eH=[0,2,6,8],eK=e=>{let t=e$.find(t=>{let[n,r,i]=t;return e[n]&&e[n]===e[r]&&e[n]===e[i]});if(t){let[n]=t;return{isDraw:!1,winner:e[n],winningCombination:t,values:e}}return{isDraw:e.every(e=>""!==e)||e$.every(t=>{let n=t.map(t=>e[t]);return n.includes("X")&&n.includes("O")}),winner:null,winningCombination:null,values:e}},eQ=e=>({x:e%3,y:Math.floor(e/3)}),eG=(e,t)=>{let n=e.filter(e=>eH.includes(e)).length;return t.filter(e=>eH.includes(e)).length-n},eY=(e,t)=>(n,r)=>{let i=n.filter(n=>e[n]===t).length;return r.filter(n=>e[n]===t).length-i},eJ=(e,t)=>{let[n,r,i]=t;return e[n]?e[r]?e[i]?null:i:r:n},eX=(e,t,n)=>{let r="X"===t?"O":"X",i=e$.find(n=>2===n.filter(t=>e[t]===r).length&&!n.some(n=>e[n]===t));if(!e[4])return 4;if(i)return eJ(e,i);let a=e$.filter(t=>t.includes(n)&&!t.some(t=>e[t]===r)).sort(eG).sort(eY(e,t));if(a.length)return eJ(e,a[0]);let s=e$.filter(n=>n.some(n=>e[n]===t)&&!n.some(t=>e[t]===r)).sort(eG).sort(eY(e,t));if(s.length)return eJ(e,s[0]);let o=e$.filter(t=>t.some(t=>e[t]===r)).sort(eG).sort(eY(e,r));if(o.length)return eJ(e,o[0]);let l=eH.filter(t=>!e[t]);if(l.length)return l[0];let u=[1,3,5,7].filter(t=>!e[t]);if(u.length)return u[0]},eZ=({values:e,lineIndices:t,onClick:n})=>{let r=e=>()=>{"function"==typeof n&&n(e)},i=(0,Y.useMemo)(()=>{if(t&&3===t.length){let e=eQ(t[0]),n=eQ(t[2]),r=(e.x+1)*5+30*e.x+15;return{x1:r,y1:(e.y+1)*5+30*e.y+15,x2:(n.x+1)*5+30*n.x+15,y2:(n.y+1)*5+30*n.y+15}}return null},[t]);return(0,Q.jsxs)("svg",{className:"game-grid",viewBox:"0 0 110 110",children:[e.map((e,t)=>{let n=eQ(t),i=(n.x+1)*5+30*n.x,a=(n.y+1)*5+30*n.y,s=i+15,o=a+15;return(0,Q.jsxs)("g",{onClick:r(t),children:[(0,Q.jsx)("rect",{x:i,y:a,height:30,width:30,stroke:"black",strokeWidth:2,fill:"white"}),"O"===e?(0,Q.jsx)("circle",{cx:s,cy:o,r:7.5,stroke:"black",strokeWidth:2,fill:"white"}):"X"===e?(0,Q.jsx)("path",{d:`M${s-7.5},${o-7.5} L${s+7.5},${o+7.5} M${s-7.5},${o+7.5} L${s+7.5},${o-7.5}`,fill:"transparent",stroke:"black",strokeWidth:2}):null]},t)}),i&&(0,Q.jsx)("line",{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,stroke:"red",strokeWidth:2,strokeDasharray:"3.75 1.875"})]})};var Y=H("acw62");const e0=e=>{document.dispatchEvent(new CustomEvent("showResult",{detail:e}))},e1=()=>{let[e,t]=(0,Y.useState)(null);return(0,Y.useEffect)(()=>{let e=e=>{t(e.detail)};return document.addEventListener("showResult",e),()=>{document.removeEventListener("showResult",e)}},[]),e&&(0,Q.jsx)("div",{className:"game-result",children:(0,Q.jsxs)("div",{className:"result-container",children:[e.isDraw?(0,Q.jsx)("div",{className:"game-result-text",children:"It's a draw!"}):e.winner?(0,Q.jsxs)("div",{className:"game-result-text",children:[e.winner," won!"]}):(0,Q.jsx)("div",{className:"game-result-text",children:"Game ended! Player left!"}),e.values&&(0,Q.jsx)(eZ,{values:e.values,lineIndices:e.winningCombination}),(0,Q.jsx)(eB,{to:"/",className:"blue-button",onClick:()=>{t(null)},children:"Play Again"})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e2={},e3=e2={};function e4(){throw Error("setTimeout has not been defined")}function e6(){throw Error("clearTimeout has not been defined")}function e5(e){if(U===setTimeout)return setTimeout(e,0);if((U===e4||!U)&&setTimeout)return U=setTimeout,setTimeout(e,0);try{return U(e,0)}catch(t){try{return U.call(null,e,0)}catch(t){return U.call(this,e,0)}}}!function(){try{U="function"==typeof setTimeout?setTimeout:e4}catch(e){U=e4}try{z="function"==typeof clearTimeout?clearTimeout:e6}catch(e){z=e6}}();var e8=[],e9=!1,e7=-1;function te(){e9&&j&&(e9=!1,j.length?e8=j.concat(e8):e7=-1,e8.length&&tt())}function tt(){if(!e9){var e=e5(te);e9=!0;for(var t=e8.length;t;){for(j=e8,e8=[];++e7<t;)j&&j[e7].run();e7=-1,t=e8.length}j=null,e9=!1,function(e){if(z===clearTimeout)return clearTimeout(e);if((z===e6||!z)&&clearTimeout)return z=clearTimeout,clearTimeout(e);try{z(e)}catch(t){try{return z.call(null,e)}catch(t){return z.call(this,e)}}}(e)}}function tn(e,t){this.fun=e,this.array=t}function tr(){}e3.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];e8.push(new tn(e,t)),1!==e8.length||e9||e5(tt)},tn.prototype.run=function(){this.fun.apply(null,this.array)},e3.title="browser",e3.browser=!0,e3.env={},e3.argv=[],e3.version="",e3.versions={},e3.on=tr,e3.addListener=tr,e3.once=tr,e3.off=tr,e3.removeListener=tr,e3.removeAllListeners=tr,e3.emit=tr,e3.prependListener=tr,e3.prependOnceListener=tr,e3.listeners=function(e){return[]},e3.binding=function(e){throw Error("process.binding is not supported")},e3.cwd=function(){return"/"},e3.chdir=function(e){throw Error("process.chdir is not supported")},e3.umask=function(){return 0};const ti={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ta=function(e,t){if(!e)throw ts(t)},ts=function(e){return Error("Firebase Database ("+ti.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},to=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},tl=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){let a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{let a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")},tu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,s=a?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(to(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tl(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0,s=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==s||null==o)throw new tc;let l=i<<2|a>>4;if(r.push(l),64!==s){let e=a<<4&240|s>>2;if(r.push(e),64!==o){let e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const td=function(e){let t=to(e);return tu.encodeByteArray(t,!0)},th=function(e){return td(e).replace(/\./g,"")},tf=function(e){try{return tu.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},tp=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==V)return V;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,tm=()=>{if(void 0===e2||void 0===e2.env)return;let e=void 0;if(e)return JSON.parse(e)},tg=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&tf(e[1]);return t&&JSON.parse(t)},tv=()=>{try{return tp()||tm()||tg()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ty=e=>{var t,n;return null===(n=null===(t=tv())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},t_=e=>{let t=ty(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tb=()=>{var e;return null===(e=tv())||void 0===e?void 0:e.config},tw=e=>{var t;return null===(t=tv())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tS(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tC())}function tI(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function tE(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tT(){return!0===ti.NODE_CLIENT||!0===ti.NODE_ADMIN}function tP(){try{return"object"==typeof indexedDB}catch(e){return!1}}function tx(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class tN extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tN.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tR.prototype.create)}}class tR{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?i.replace(tO,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new tN(r,s,n)}}const tO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(e){return JSON.parse(e)}function tL(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=function(e){let t={},n={},r={},i="";try{let a=e.split(".");t=tD(tf(a[0])||""),n=tD(tf(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},tM=function(e){let t=tA(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},tF=function(e){let t=tA(e).claims;return"object"==typeof t&&!0===t.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tz(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function tj(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function tq(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function tW(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(tV(n)&&tV(a)){if(!tW(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function tV(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function t$(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function tH(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){let n,r;t||(t=0);let i=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)i[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)i[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=i[e-3]^i[e-8]^i[e-14]^i[e-16];i[e]=(t<<1|t>>>31)&4294967295}let a=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=l^s&(o^l),r=1518500249):(n=s^o^l,r=1859775393):e<60?(n=s&o|l&(s|o),r=2400959708):(n=s^o^l,r=3395469782);let t=(a<<5|a>>>27)+n+u+r+i[e]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=a,a=t}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;for(;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}class tQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=tG),void 0===r.error&&(r.error=tG),void 0===r.complete&&(r.complete=tG);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tG(){}function tY(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let t=i-55296;ta(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},tX=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function tZ(e,t=1e3,n=2){let r=t*Math.pow(n,e);return Math.min(144e5,r+Math.round(.5*r*(Math.random()-.5)*2))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(e){return e&&e._delegate?e._delegate:e}class t1{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new tk;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:t2})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=t2){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=t2){return this.instances.has(e)}getOptions(e=t2){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===t2?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=t2){return this.component?this.component.multipleInstances?e:t2:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new t3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=[];(N=q||(q={}))[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT";const t5={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},t8=q.INFO,t9={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},t7=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=t9[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ne{constructor(e){this.name=e,this._logLevel=t8,this._logHandler=t7,this._userLogHandler=null,t6.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?t5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}}const nt=(e,t)=>t.some(t=>e instanceof t),nn=new WeakMap,nr=new WeakMap,ni=new WeakMap,na=new WeakMap,ns=new WeakMap;let no={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return nr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ni.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nl(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nl(n){var r;if(n instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(nl(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&nn.set(t,e)}).catch(()=>{}),ns.set(t,e),t}(n);if(na.has(n))return na.get(n);let i="function"==typeof(r=n)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(...e){return r.apply(nu(this),e),nl(nn.get(this))}:function(...e){return nl(r.apply(nu(this),e))}:function(e,...t){let n=r.call(nu(this),e,...t);return ni.set(n,e.sort?e.sort():[e]),nl(n)}:(r instanceof IDBTransaction&&function(e){if(nr.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});nr.set(e,t)}(r),nt(r,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(r,no):r;return i!==n&&(na.set(n,i),ns.set(i,n)),i}const nu=e=>ns.get(e),nc=["get","getKey","getAll","getAllKeys","count"],nd=["put","add","delete","clear"],nh=new Map;function nf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(nh.get(t))return nh.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=nd.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nc.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),s=a.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&a.done]))[0]};return nh.set(t,a),a}no={...b=no,get:(e,t,n)=>nf(e,t)||b.get(e,t,n),has:(e,t)=>!!nf(e,t)||b.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const nm="@firebase/app",ng="0.9.26",nv=new ne("@firebase/app"),ny="[DEFAULT]",n_={[nm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nb=new Map,nw=new Map;function nk(e){let t=e.name;if(nw.has(t))return nv.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(nw.set(t,e),nb.values()))!function(e,t){try{e.container.addComponent(t)}catch(n){nv.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}(n,e);return!0}function nC(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const nS=new tR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new t1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nS.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="10.7.2";function nT(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:ny,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw nS.create("bad-app-name",{appName:String(i)});if(n||(n=tb()),!n)throw nS.create("no-options");let a=nb.get(i);if(a){if(tW(n,a.options)&&tW(r,a.config))return a;throw nS.create("duplicate-app",{appName:i})}let s=new t4(i);for(let e of nw.values())s.addComponent(e);let o=new nI(n,r,s);return nb.set(i,o),o}function nP(e=ny){let t=nb.get(e);if(!t&&e===ny&&tb())return nT();if(!t)throw nS.create("no-app",{appName:e});return t}function nx(e,t,n){var r;let i=null!==(r=n_[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){let e=[`Unable to register library "${i}" with version "${t}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nv.warn(e.join(" "));return}nk(new t1(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const nN="firebase-heartbeat-store";let nR=null;function nO(){return nR||(nR=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let s=indexedDB.open(e,1),o=nl(s);return r&&s.addEventListener("upgradeneeded",e=>{r(nl(s.result),e.oldVersion,e.newVersion,nl(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nN)}catch(e){console.warn(e)}}}).catch(e=>{throw nS.create("idb-open",{originalErrorMessage:e.message})})),nR}async function nD(e){try{let t=await nO();return await t.transaction(nN).objectStore(nN).get(nA(e))}catch(e){if(e instanceof tN)nv.warn(e.message);else{let t=nS.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});nv.warn(t.message)}}}async function nL(e,t){try{let n=(await nO()).transaction(nN,"readwrite"),r=n.objectStore(nN);await r.put(t,nA(e)),await n.done}catch(e){if(e instanceof tN)nv.warn(e.message);else{let t=nS.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});nv.warn(t.message)}}}function nA(e){return`${e.name}!${e.options.appId}`}class nM{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nU(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nF();return(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)?void 0:this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=nF(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),nz(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nz(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function nF(){return new Date().toISOString().substring(0,10)}class nU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!tP()&&tx().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await nD(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return nL(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return nL(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nz(e){return th(JSON.stringify({version:2,heartbeats:e})).length}function nj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function nq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}nk(new t1("platform-logger",e=>new np(e),"PRIVATE")),nk(new t1("heartbeat",e=>new nM(e),"PRIVATE")),nx(nm,ng,""),nx(nm,ng,"esm2017"),nx("fire-js",""),"function"==typeof SuppressedError&&SuppressedError;const nW=new tR("auth","Firebase",nq()),nV=new ne("@firebase/auth");function nB(e,...t){nV.logLevel<=q.ERROR&&nV.error(`Auth (${nE}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(e,...t){throw nK(e,...t)}function nH(e,...t){return nK(e,...t)}function nK(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return nW.create(e,...t)}function nQ(e,t,...n){if(!e)throw nK(t,...n)}function nG(e){let t="INTERNAL ASSERTION FAILED: "+e;throw nB(t),Error(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nJ(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||nG("Short delay should be less than long delay!"),this.isMobile=tS()||tE()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===nJ()||"https:"===nJ()||tI()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(e,t){e.emulator||nG("Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void nG("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void nG("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void nG("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},n2=new nX(3e4,6e4);function n3(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function n4(e,t,n,r,i={}){return n6(e,i,async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});let s=tB(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),n0.fetch()(n8(e,e.config.apiHost,n,s),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function n6(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},n1),t);try{let t=new n9(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if("needConfirmation"in a)throw n7(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw n7(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===t)throw n7(e,"email-already-in-use",a);if("USER_DISABLED"===t)throw n7(e,"user-disabled",a);let s=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw new tR("auth","Firebase",Object.assign(Object.assign({},nq()),{[s]:n})).create(s,{appName:e.name});n$(e,s)}}catch(t){if(t instanceof tN)throw t;n$(e,"network-request-failed",{message:String(t)})}}async function n5(e,t,n,r,i={}){let a=await n4(e,t,n,r,i);return"mfaPendingCredential"in a&&n$(e,"multi-factor-auth-required",{_serverResponse:a}),a}function n8(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?nZ(e.config,i):`${e.config.apiScheme}://${i}`}class n9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(nH(this.auth,"network-request-failed")),n2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function n7(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=nH(e,t,r);return i.customData._tokenResponse=n,i}function re(e){return void 0!==e&&void 0!==e.enterprise}class rt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function rn(e,t){return n4(e,"GET","/v2/recaptchaConfig",n3(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rr(e,t){return n4(e,"POST","/v1/accounts:delete",t)}async function ri(e,t){return n4(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function rs(e,t=!1){let n=t0(e),r=await n.getIdToken(t),i=rl(r);nQ(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let a="object"==typeof i.firebase?i.firebase:void 0,s=null==a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ra(ro(i.auth_time)),issuedAtTime:ra(ro(i.iat)),expirationTime:ra(ro(i.exp)),signInProvider:s||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}function ro(e){return 1e3*Number(e)}function rl(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return nB("JWT malformed, contained fewer than 3 sections"),null;try{let e=tf(n);if(!e)return nB("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return nB("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof tN&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ra(this.lastLoginAt),this.creationTime=ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(e){var t;let n=e.auth,r=await e.getIdToken(),i=await ru(e,ri(n,{idToken:r}));nQ(null==i?void 0:i.users.length,n,"internal-error");let a=i.users[0];e._notifyReloadListener(a);let s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map(e=>{var{providerId:t}=e,n=nj(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],o=[...e.providerData.filter(e=>!s.some(t=>t.providerId===e.providerId)),...s],l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new rd(a.createdAt,a.lastLoginAt),isAnonymous:!!l&&u})}async function rf(e){let t=t0(e);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(e,t){let n=await n6(e,{},async()=>{let n=tB({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=n8(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",n0.fetch()(a,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rm(e,t){return n4(e,"POST","/v2/accounts:revokeToken",n3(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nQ(e.idToken,"internal-error"),nQ(void 0!==e.idToken,"internal-error"),nQ(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=rl(e);return nQ(t,"internal-error"),nQ(void 0!==t.exp,"internal-error"),nQ(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(nQ(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await rp(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new rg;return n&&(nQ("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(nQ("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(nQ("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rg,this.toJSON())}_performRefresh(){return nG("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(e,t){nQ("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ry{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=nj(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await ru(this,this.stsTokenManager.getToken(this.auth,e));return nQ(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rs(this,e)}reload(){return rf(this)}_assign(e){this!==e&&(nQ(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new ry(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){nQ(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await ru(this,rr(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:k}=t;nQ(y&&k,e,"internal-error");let C=rg.fromJSON(this.name,k);nQ("string"==typeof y,e,"internal-error"),rv(c,e.name),rv(d,e.name),nQ("boolean"==typeof _,e,"internal-error"),nQ("boolean"==typeof b,e,"internal-error"),rv(h,e.name),rv(f,e.name),rv(p,e.name),rv(m,e.name),rv(g,e.name),rv(v,e.name);let S=new ry({uid:y,auth:e,email:d,emailVerified:_,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){let r=new rg;r.updateFromServerResponse(t);let i=new ry({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await rh(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;function rb(e){e instanceof Function||nG("Expected a class definition");let t=r_.get(e);return t?t instanceof e||nG("Instance stored in cache mismatched with class"):(t=new e,r_.set(e,t)),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(e,t,n){return`firebase:${e}:${t}:${n}`}rw.type="NONE";class rC{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=rk(this.userKey,r.apiKey,i),this.fullPersistenceKey=rk("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?ry._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new rC(rb(rw),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||rb(rw),a=rk(n,e.config.apiKey,e.name),s=null;for(let n of t)try{let t=await n._get(a);if(t){let r=ry._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(e){}}))),new rC(i,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(rP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rN(t))return"Blackberry";if(rR(t))return"Webos";if(rE(t))return"Safari";if((t.includes("chrome/")||rT(t))&&!t.includes("edge/"))return"Chrome";if(rx(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function rI(e=tC()){return/firefox\//i.test(e)}function rE(e=tC()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rT(e=tC()){return/crios\//i.test(e)}function rP(e=tC()){return/iemobile/i.test(e)}function rx(e=tC()){return/android/i.test(e)}function rN(e=tC()){return/blackberry/i.test(e)}function rR(e=tC()){return/webos/i.test(e)}function rO(e=tC()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rD(e=tC()){return rO(e)||rx(e)||rR(e)||rN(e)||/windows phone/i.test(e)||rP(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(e,t=[]){let n;switch(e){case"Browser":n=rS(tC());break;case"Worker":n=`${rS(tC())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${nE}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(e,t={}){return n4(e,"GET","/v2/passwordPolicy",n3(e,t))}class rF{constructor(e){var t,n,r,i;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rz(this),this.idTokenSubscription=new rz(this),this.beforeStateQueue=new rA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rb(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await rC.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);(!n||n===a)&&(null==s?void 0:s.user)&&(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(nQ(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?t0(e):null;return t&&nQ(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&nQ(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(rb(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new rF(await rM(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tR("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await rm(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&rb(e)||this._popupRedirectResolver;nQ(t,this,"argument-error"),this.redirectPersistenceManager=await rC.create(this,[rb(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(nQ(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nQ(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){nV.logLevel<=q.WARN&&nV.warn(`Auth (${nE}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class rz{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new tQ(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return nQ(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rj(e){return new Promise((t,n)=>{var r,i;let a=document.createElement("script");a.setAttribute("src",e),a.onload=t,a.onerror=e=>{let t=nH("internal-error");t.customData=e,n(t)},a.type="text/javascript",a.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(a)})}function rq(e){return`__${e}${Math.floor(1e6*Math.random())}`}class rW{constructor(e){this.type="recaptcha-enterprise",this.auth=t0(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{rn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new rt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;re(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&re(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}rj("https://www.google.com/recaptcha/enterprise.js?render="+n).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function rV(e,t,n,r=!1){let i;let a=new rW(e);try{i=await a.verify(n)}catch(e){i=await a.verify(n,!0)}let s=Object.assign({},t);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function rB(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i||!i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await rV(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await rV(e,t,n,"getOobCode"===n);return r(e,i)}}function r$(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rH(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nG("not implemented")}_getIdTokenResponse(e){return nG("not implemented")}_linkToIdToken(e,t){return nG("not implemented")}_getReauthenticationResolver(e){return nG("not implemented")}}async function rQ(e,t){return n4(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(e,t){return n5(e,"POST","/v1/accounts:signInWithPassword",n3(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rY(e,t){return n5(e,"POST","/v1/accounts:signInWithEmailLink",n3(e,t))}async function rJ(e,t){return n5(e,"POST","/v1/accounts:signInWithEmailLink",n3(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX extends rK{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new rX(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new rX(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return rB(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rG);case"emailLink":return rY(e,{email:this._email,oobCode:this._password});default:n$(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return rB(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rQ);case"emailLink":return rJ(e,{idToken:t,email:this._email,oobCode:this._password});default:n$(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rZ(e,t){return n5(e,"POST","/v1/accounts:signInWithIdp",n3(e,t))}class r0 extends rK{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new r0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):n$("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=nj(t,["providerId","signInMethod"]);if(!n||!r)return null;let a=new r0(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return rZ(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,rZ(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,rZ(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tB(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(e,t){return n4(e,"POST","/v1/accounts:sendVerificationCode",n3(e,t))}async function r2(e,t){return n5(e,"POST","/v1/accounts:signInWithPhoneNumber",n3(e,t))}async function r3(e,t){let n=await n5(e,"POST","/v1/accounts:signInWithPhoneNumber",n3(e,t));if(n.temporaryProof)throw n7(e,"account-exists-with-different-credential",n);return n}const r4={USER_NOT_FOUND:"user-not-found"};async function r6(e,t){return n5(e,"POST","/v1/accounts:signInWithPhoneNumber",n3(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),r4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5 extends rK{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new r5({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new r5({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return r2(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return r3(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return r6(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new r5({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class r8{constructor(e){var t,n,r,i,a,s;let o=t$(tH(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);nQ(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){let t=function(e){let t=t$(tH(e)).link,n=t?t$(tH(t)).deep_link_id:null,r=t$(tH(e)).deep_link_id;return(r?t$(tH(r)).link:null)||r||n||t||e}(e);try{return new r8(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(){this.providerId=r9.PROVIDER_ID}static credential(e,t){return rX._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=r8.parseLink(t);return nQ(n,"argument-error"),rX._fromEmailAndCode(e,n.code,n.tenantId)}}r9.PROVIDER_ID="password",r9.EMAIL_PASSWORD_SIGN_IN_METHOD="password",r9.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie extends r7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends ie{constructor(){super("facebook.com")}static credential(e){return r0._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return it.credential(e.oauthAccessToken)}catch(e){return null}}}it.FACEBOOK_SIGN_IN_METHOD="facebook.com",it.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends ie{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return r0._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ir.credential(t,n)}catch(e){return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com",ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends ie{constructor(){super("github.com")}static credential(e){return r0._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch(e){return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com",ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends ie{constructor(){super("twitter.com")}static credential(e,t){return r0._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ia.credential(t,n)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function is(e,t){return n5(e,"POST","/v1/accounts:signUp",n3(e,t))}ia.TWITTER_SIGN_IN_METHOD="twitter.com",ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new io({user:await ry._fromIdTokenResponse(e,n,r),providerId:il(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new io({user:e,providerId:il(n),_tokenResponse:n,operationType:t})}}function il(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(e){var t;let n=t0(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new io({user:n.currentUser,providerId:null,operationType:"signIn"});let r=await is(n,{returnSecureToken:!0}),i=await io._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends tN{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ic.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ic(e,t,n,r)}}function id(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ic._fromErrorAndOperation(e,n,t,r);throw n})}async function ih(e,t,n=!1){let r=await ru(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return io._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(e,t,n=!1){let{auth:r}=e,i="reauthenticate";try{let a=await ru(e,id(r,i,t,e),n);nQ(a.idToken,r,"internal-error");let s=rl(a.idToken);nQ(s,r,"internal-error");let{sub:o}=s;return nQ(e.uid===o,r,"user-mismatch"),io._forOperation(e,i,a)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&n$(r,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(e,t,n=!1){let r="signIn",i=await id(e,r,t),a=await io._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}new WeakMap;const ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class iy extends iv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){let e=tC();return rE(e)||rO(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=rD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=tC();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iy.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends iv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}i_.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new ib(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let a=Array.from(i).map(async t=>t(e.origin,r)),s=await Promise.all(a.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}ib.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let a="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!a)throw Error("connection_unavailable");return new Promise((s,o)=>{let l=iw("",20);a.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:a,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return void 0!==iC().WorkerGlobalScope&&"function"==typeof iC().importScripts}async function iI(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="firebaseLocalStorageDb",iT="firebaseLocalStorage",iP="fbase_key";class ix{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function iN(e,t){return e.transaction([iT],t?"readwrite":"readonly").objectStore(iT)}function iR(){let e=indexedDB.open(iE,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(iT,{keyPath:iP})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(iT)?t(n):(n.close(),await new ix(indexedDB.deleteDatabase(iE)).toPromise(),t(await iR()))})})}async function iO(e,t,n){return new ix(iN(e,!0).put({[iP]:t,value:n})).toPromise()}async function iD(e,t){let n=iN(e,!1).get(t),r=await new ix(n).toPromise();return void 0===r?null:r.value}function iL(e,t){return new ix(iN(e,!0).delete(t)).toPromise()}class iA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await iR()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ib._getInstance(iS()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iI(),!this.activeServiceWorker)return;this.sender=new ik(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await iR();return await iO(e,ig,"1"),await iL(e,ig),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>iO(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>iD(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iL(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new ix(iN(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function iM(e,t,n){var r,i,a;let s=await n.verify();try{let o;if(nQ("string"==typeof s,e,"argument-error"),nQ("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o)return nQ("enroll"===t.type,e,"internal-error"),(await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}},n4(e,"POST","/v2/accounts/mfaEnrollment:start",n3(e,i)))).phoneSessionInfo.sessionInfo;{nQ("signin"===t.type,e,"internal-error");let n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;return nQ(n,e,"missing-multi-factor-info"),(await (a={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}},n4(e,"POST","/v2/accounts/mfaSignIn:start",n3(e,a)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await r1(e,{phoneNumber:o.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}iA.type="LOCAL",rq("rcb"),new nX(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.providerId=iF.PROVIDER_ID,this.auth=t0(e)}verifyPhoneNumber(e,t){return iM(this.auth,e,t0(t))}static credential(e,t){return r5._fromVerification(e,t)}static credentialFromResult(e){return iF.credentialFromTaggedObject(e)}static credentialFromError(e){return iF.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?r5._fromTokenResponse(t,n):null}}iF.PROVIDER_ID="phone",iF.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU extends rK{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rZ(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rZ(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rZ(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iz(e){return im(e.auth,new iU(e),e.bypassAuthState)}function ij(e){let{auth:t,user:n}=e;return nQ(n,t,"internal-error"),ip(n,new iU(e),e.bypassAuthState)}async function iq(e){let{auth:t,user:n}=e;return nQ(n,t,"internal-error"),ih(n,new iU(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a){this.reject(a);return}let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iz;case"linkViaPopup":case"linkViaRedirect":return iq;case"reauthViaPopup":case"reauthViaRedirect":return ij;default:n$(this.auth,"internal-error")}}resolve(e){this.pendingPromise||nG("Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){this.pendingPromise||nG("Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new nX(2e3,1e4);class iB extends iW{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,iB.currentPopupAction&&iB.currentPopupAction.cancel(),iB.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return nQ(e,this.auth,"internal-error"),e}async onExecution(){1===this.filter.length||nG("Popup operations only handle one event");let e=iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(nH(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(nH(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iB.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nH(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iV.get())};e()}}iB.currentPopupAction=null;const i$=new Map;class iH extends iW{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=i$.get(this.auth._key());if(!e){try{let t=await iK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}i$.set(this.auth._key(),e)}return this.bypassAuthState||i$.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iK(e,t){let n=rk("pendingRedirect",t.config.apiKey,t.name),r=rb(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function iQ(e,t){i$.set(e._key(),t)}async function iG(e,t,n=!1){let r=t0(e),i=t?rb(t):(nQ(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),a=new iH(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class iY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iX(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!iX(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nH(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iJ(e))}saveEventToCache(e){this.cachedEventUids.add(iJ(e)),this.lastProcessedEventTime=Date.now()}}function iJ(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function iX({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iZ(e,t={}){return n4(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i1=/^https?/;async function i2(e){if(e.config.emulator)return;let{authorizedDomains:t}=await iZ(e);for(let e of t)try{if(function(e){let t=nY(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!i1.test(n))return!1;if(i0.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}n$(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new nX(3e4,6e4);function i4(){let e=iC().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let i6=null;/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new nX(5e3,15e3),i8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function i7(e){let t=await (i6=i6||new Promise((t,n)=>{var r,i,a;function s(){i4(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{i4(),n(nH(e,"network-request-failed"))},timeout:i3.get()})}if(null===(i=null===(r=iC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(a=iC().gapi)||void 0===a?void 0:a.load)s();else{let t=rq("iframefcb");return iC()[t]=()=>{gapi.load?s():n(nH(e,"network-request-failed"))},rj(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw i6=null,e})),n=iC().gapi;return nQ(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;nQ(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?nZ(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:nE},i=i9.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${tB(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i8,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=nH(e,"network-request-failed"),a=iC().setTimeout(()=>{r(i)},i5.get());function s(){iC().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class at{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const an=encodeURIComponent("fac");async function ar(e,t,n,r,i,a){nQ(e.config.authDomain,e,"auth-domain-config-required"),nQ(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nE,eventId:i};if(t instanceof r7)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",tj(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(a||{})))s[n]=r;if(t instanceof ie){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}for(let t of(e.tenantId&&(s.tid=e.tenantId),Object.keys(s)))void 0===s[t]&&delete s[t];let o=await e._getAppCheckToken(),l=o?`#${an}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?nZ(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${tB(s).slice(1)}${l}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="webStorageSupport",aa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i_,this._completeRedirectFn=iG,this._overrideRedirectResult=iQ}async _openPopup(e,t,n,r){var i;(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager)||nG("_initialize() not called before _openPopup()");let a=await ar(e,t,n,nY(),r);return function(e,t,n,r=500,i=600){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l=Object.assign(Object.assign({},ae),{width:r.toString(),height:i.toString(),top:a,left:s}),u=tC().toLowerCase();n&&(o=rT(u)?"_blank":n),rI(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=tC()){var t;return rO(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new at(null);let d=window.open(t||"",o,c);nQ(d,e,"popup-blocked");try{d.focus()}catch(e){}return new at(d)}(e,a,iw())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await ar(e,t,n,nY(),r),iC().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(n||nG("If manager is not set, promise should be"),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await i7(e),n=new iY(e);return t.register("authEvent",t=>(nQ(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ai,{type:ai},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ai];void 0!==i&&t(!!i),n$(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rD()||rE()||rO()}};class as{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return nG("unexpected MultiFactorSessionType")}}}class ao extends as{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ao(e)}_finalizeEnroll(e,t,n){return n4(e,"POST","/v2/accounts/mfaEnrollment:finalize",n3(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return n4(e,"POST","/v2/accounts/mfaSignIn:finalize",n3(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class al extends as{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new al(t,void 0,e)}static _fromEnrollmentId(e,t){return new al(t,e)}async _finalizeEnroll(e,t,n){return nQ(void 0!==this.secret,e,"argument-error"),n4(e,"POST","/v2/accounts/mfaEnrollment:finalize",n3(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){nQ(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return n4(e,"POST","/v2/accounts/mfaSignIn:finalize",n3(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class au{constructor(e,t,n,r,i,a,s){this.sessionInfo=a,this.auth=s,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new au(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(ac(e)||ac(t))&&(r=!0),r&&(ac(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ac(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function ac(e){return void 0===e||(null==e?void 0:e.length)===0}var ad="@firebase/auth",ah="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nQ(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ap=tw("authIdTokenMaxAge")||300;let am=null;const ag=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ap)return;let i=null==n?void 0:n.token;am!==i&&(am=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};R="Browser",nk(new t1("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;nQ(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});let o=new rU(n,r,i,{apiKey:a,authDomain:s,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rL(R)});return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rb);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),nk(new t1("auth-internal",e=>new af(t0(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),nx(ad,ah,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),nx(ad,ah,"esm2017");const av="@firebase/database",ay="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a_="";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tL(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:tD(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return tU(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ab(t)}}catch(e){}return new aw},aC=ak("localStorage"),aS=ak("sessionStorage"),aI=new ne("@firebase/database"),aE=(_=1,function(){return _++}),aT=function(e){let t=tJ(e),n=new tK;n.update(t);let r=n.digest();return tu.encodeByteArray(r)},aP=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=aP.apply(null,r):"object"==typeof r?t+=tL(r):t+=r,t+=" "}return t};let ax=null,aN=!0;const aR=function(e,t){ta(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(aI.logLevel=q.VERBOSE,ax=aI.log.bind(aI),t&&aS.set("logging_enabled",!0)):"function"==typeof e?ax=e:(ax=null,aS.remove("logging_enabled"))},aO=function(...e){if(!0===aN&&(aN=!1,null===ax&&!0===aS.get("logging_enabled")&&aR(!0)),ax){let t=aP.apply(null,e);ax(t)}},aD=function(e){return function(...t){aO(e,...t)}},aL=function(...e){let t="FIREBASE INTERNAL ERROR: "+aP(...e);aI.error(t)},aA=function(...e){let t=`FIREBASE FATAL ERROR: ${aP(...e)}`;throw aI.error(t),Error(t)},aM=function(...e){let t="FIREBASE WARNING: "+aP(...e);aI.warn(t)},aF=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&aM("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},aU=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},az=function(e){if(tT()||"complete"===document.readyState)e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},aj="[MIN_NAME]",aq="[MAX_NAME]",aW=function(e,t){if(e===t)return 0;{if(e===aj||t===aq)return -1;if(t===aj||e===aq)return 1;let n=aY(e),r=aY(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},aV=function(e,t){return e===t?0:e<t?-1:1},aB=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+tL(t))},a$=function(e){if("object"!=typeof e||null===e)return tL(e);let t=[];for(let n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=tL(t[r])+":"+a$(e[t[r]]);return n+"}"},aH=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function aK(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}const aQ=function(e){let t,n,r,i,a;ta(!aU(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-4503599627370496)):(n=0,r=Math.round(e/5e-324)));let s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();let o=s.join(""),l="";for(a=0;a<64;a+=8){let e=parseInt(o.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},aG=RegExp("^-?(0*)\\d{1,10}$"),aY=function(e){if(aG.test(e)){let t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},aJ=function(e){try{e()}catch(e){setTimeout(()=>{throw aM("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},aX=function(e,t){let n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){aM(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(aO("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',aM(e)}}class a1{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}a1.OWNER="owner";const a2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,a3="websocket",a4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,t,n,r,i=!1,a="",s=!1,o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=aC.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&aC.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function a5(e,t,n){let r;if(ta("string"==typeof t,"typeof type must == string"),ta("object"==typeof n,"typeof params must == object"),t===a3)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===a4)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);let i=[];return aK(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.counters_={}}incrementCounter(e,t=1){tU(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(let r in n)n.hasOwnProperty(r)&&"__proto__"!==r&&(t[r]=e(t[r],n[r]));return t}(void 0,this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={},a7={};function se(e){let t=e.toString();return a9[t]||(a9[t]=new a8),a9[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&aJ(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="start";class sr{constructor(e,t,n,r,i,a,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aD(e),this.stats_=se(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),a5(t,a4,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new st(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),az(()=>{if(this.isClosed_)return;this.scriptTagHolder=new si((...e)=>{let[t,n,r,i,a]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder){if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===sn)this.id=n,this.password=r;else if("close"===t)n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+t)}},(...e)=>{let[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);let e={};e[sn]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&a2.test(location.hostname)&&(e.r="f");let t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sr.forceAllow_=!0}static forceDisallow(){sr.forceDisallow_=!0}static isAvailable(){return!tT()&&(!!sr.forceAllow_||!sr.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=tL(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=aH(td(t),1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(tT())return;this.myDisconnFrame=document.createElement("iframe");let n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=tL(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class si{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,tT())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=aE(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=si.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";</script>');let r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){aO("frame writing exception"),e.stack&&aO(e.stack),aO(e)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||aO("No IE domain setting required")}catch(n){let t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+n.length<=1870){let e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}else break;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){tT()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{aO("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}let sa=null;"undefined"!=typeof MozWebSocket?sa=MozWebSocket:"undefined"!=typeof WebSocket&&(sa=WebSocket);class ss{constructor(e,t,n,r,i,a,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aD(this.connId),this.stats_=se(t),this.connURL=ss.connectionURL_(t,a,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){let a={};return a.v="5",!tT()&&"undefined"!=typeof location&&location.hostname&&a2.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),a5(e,a3,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,aC.set("previous_websocket_failure",!0);try{let e;if(tT()){let t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${a_}/${e2.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);let n={},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new sa(this.connURL,[],e)}catch(t){this.log_("Error instantiating WebSocket.");let e=t.message||t.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ss.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==sa&&!ss.forceDisallow_}static previouslyFailed(){return aC.isInMemoryStorage||!0===aC.get("previous_websocket_failure")}markConnectionHealthy(){aC.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join("");this.frames=null;let t=tD(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ta(null===this.frames,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=tL(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=aH(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ss.responsesRequiredToBeHealthy=2,ss.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[sr,ss]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){let t=ss&&ss.isAvailable(),n=t&&!ss.previouslyFailed();if(e.webSocketOnly&&(t||aM("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ss];else{let e=this.transports_=[];for(let t of so.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);so.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}so.globalTransportInitialized_=!1;class sl{constructor(e,t,n,r,i,a,s,o,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aD("c:"+this.id+":"),this.transportManager_=new so(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=aX(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){let t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=aB("t",e),n=aB("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=aB("t",e),n=aB("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=aB("t",e);if("d"in e){let n=e.d;if("h"===t){let e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?aL("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):aL("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&aM("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),aX(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):aX(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(aC.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.allowedEvents_=e,this.listeners_={},ta(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context)){r.splice(e,1);return}}validateEventType_(e){ta(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends sc{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||tS()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new sd}getInitialEvent(e){return ta("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class sh{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function sf(){return new sh("")}function sp(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function sm(e){return e.pieces_.length-e.pieceNum_}function sg(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new sh(e.pieces_,t)}function sv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function sy(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function s_(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new sh(t,0)}function sb(e,t){let n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof sh)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{let e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new sh(n,0)}function sw(e){return e.pieceNum_>=e.pieces_.length}function sk(e,t){let n=sp(e),r=sp(t);if(null===n)return t;if(n===r)return sk(sg(e),sg(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function sC(e,t){let n=sy(e,0),r=sy(t,0);for(let e=0;e<n.length&&e<r.length;e++){let t=aW(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function sS(e,t){if(sm(e)!==sm(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function sI(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(sm(e)>sm(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class sE{constructor(e,t){this.errorPrefix_=t,this.parts_=sy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=tX(this.parts_[e]);sT(this)}}function sT(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sP(e))}function sP(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx extends sc{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new sx}getInitialEvent(e){return ta("visible"===e,"Unknown event type: "+e),[this.visible_]}}class sN extends su{constructor(e,t,n,r,i,a,s,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=s,this.authOverride_=o,this.id=sN.nextPersistentConnectionId_++,this.log_=aD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!tT())throw Error("Auth override specified in options, but not supported on non Node.js platforms");sx.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&sd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){let r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(tL(i)),ta(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();let t=new tk,n={p:e._path.toString(),q:e._queryObject};this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{let n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++;let r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();let i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ta(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ta(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");let s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){let t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);let i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{let a=i.d,s=i.s;sN.warnOnListenWarnings_(a,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,a))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&tU(e,"w")){let n=tz(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){let e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();aM(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||tF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=tM(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{let n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ta(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);let i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){let i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();let a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;let s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){let t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tL(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):aL("Unrecognized action received from server: "+tL(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ta(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){!e||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=new Date().getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+sN.nextConnectionId_++,i=this.lastSessionId,a=!1,s=null,o=function(){s?s.close():(a=!0,n())};this.realtime_={close:o,sendRequest:function(e){ta(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)}};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[o,u]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);a?aO("getToken() completed but was canceled"):(aO("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=u&&u.token,s=new sl(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{aM(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(e){this.log_("Failed to get token: "+e),a||(this.repoInfo_.nodeAdmin&&aM(e),o())}}}interrupt(e){aO("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){aO("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tj(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>a$(e)).join("$"):"default";let r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){let n;let r=new sh(e).toString();if(this.listens.has(r)){let e=this.listens.get(r);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(r)}else n=void 0;return n}onAuthRevoked_(e,t){aO("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){aO("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let e of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";tT()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+a_.replace(/\./g,"-")]=1,tS()?e["framework.cordova"]=1:tE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=sd.getInstance().currentlyOnline();return tj(this.interruptReasons_)&&e}}sN.nextPersistentConnectionId_=0,sN.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new sR(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new sR(aj,e),r=new sR(aj,t);return 0!==this.compare(n,r)}minPost(){return sR.MIN}}class sD extends sO{static get __EMPTY_NODE(){return n}static set __EMPTY_NODE(e){n=e}compare(e,t){return aW(e.name,t.name)}isDefinedOn(e){throw ts("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return sR.MIN}maxPost(){return new sR(aq,n)}makePost(e,t){return ta("string"==typeof e,"KeyIndex indexValue must always be a string."),new sR(e,n)}toString(){return".key"}}const sL=new sD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else if(0===a){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){let e;if(0===this.nodeStack_.length)return null;let t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class sM{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:sM.RED,this.left=null!=r?r:sF.EMPTY_NODE,this.right=null!=i?i:sF.EMPTY_NODE}copy(e,t,n,r,i){return new sM(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}removeMin_(){if(this.left.isEmpty())return sF.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let n,r;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return sF.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,sM.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,sM.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){return Math.pow(2,this.check_())<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e===this.right.check_())return e+(this.isRed_()?0:1);throw Error("Black depths differ")}}sM.RED=!0,sM.BLACK=!1;class sF{constructor(e,t=sF.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new sF(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,sM.BLACK,null,null))}remove(e){return new sF(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,sM.BLACK,null,null))}get(e){let t;let n=this.root_;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty()){if(r)return r.key;return null}for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sA(this.root_,null,this.comparator_,!0,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(e,t){return aW(e.name,t.name)}function sz(e,t){return aW(e,t)}sF.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new sM(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sj=function(e){return"number"==typeof e?"number:"+aQ(e):"string:"+e},sq=function(e){if(e.isLeafNode()){let t=e.val();ta("string"==typeof t||"number"==typeof t||"object"==typeof t&&tU(t,".sv"),"Priority must be a string or number.")}else ta(e===r||e.isEmpty(),"priority of unexpected type.");ta(e===r||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class sW{constructor(e,t=sW.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ta(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),sq(this.priorityNode_)}static set __childrenNodeConstructor(e){i=e}static get __childrenNodeConstructor(){return i}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sW(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:sW.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return sw(e)?this:".priority"===sp(e)?this.priorityNode_:sW.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:sW.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let n=sp(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ta(".priority"!==n||1===sm(e),".priority must be the last token in a path"),this.updateImmediateChild(n,sW.__childrenNodeConstructor.EMPTY_NODE.updateChild(sg(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sj(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":","number"===t?e+=aQ(this.value_):e+=this.value_,this.lazyHash_=aT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sW.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sW.__childrenNodeConstructor?-1:(ta(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,n=typeof this.value_,r=sW.VALUE_TYPE_ORDER.indexOf(t),i=sW.VALUE_TYPE_ORDER.indexOf(n);return(ta(r>=0,"Unknown leaf type: "+t),ta(i>=0,"Unknown leaf type: "+n),r!==i)?i-r:"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}sW.VALUE_TYPE_ORDER=["object","boolean","number","string"];const sV=new class extends sO{compare(e,t){let n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?aW(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return sR.MIN}maxPost(){return new sR(aq,new sW("[PRIORITY-POST]",s))}makePost(e,t){return new sR(t,new sW("[PRIORITY-POST]",a(e)))}toString(){return".priority"}},sB=Math.log(2);class s${constructor(e){this.count=parseInt(Math.log(e+1)/sB,10),this.current_=this.count-1;let t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sH=function(e,t,n,r){e.sort(t);let i=function(t,r){let a;let s=r-t;if(0===s)return null;if(1===s)return a=e[t],new sM(n?n(a):a,a.node,sM.BLACK,null,null);{let o=parseInt(s/2,10)+t,l=i(t,o),u=i(o+1,r);return a=e[o],new sM(n?n(a):a,a.node,sM.BLACK,l,u)}};return new sF(r||t,function(t){let r=null,a=null,s=e.length,o=function(t,r){let a=s-t,o=s;s-=t;let u=i(a+1,o),c=e[a];l(new sM(n?n(c):c,c.node,r,null,u))},l=function(e){r?r.left=e:a=e,r=e};for(let e=0;e<t.count;++e){let n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?o(r,sM.BLACK):(o(r,sM.BLACK),o(r,sM.RED))}return a}(new s$(e.length)))},sK={};class sQ{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ta(sK&&sV,"ChildrenNode.ts has not been loaded"),o=o||new sQ({".priority":sK},{".priority":sV})}get(e){let t=tz(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof sF?t:null}hasIndex(e){return tU(this.indexSet_,e.toString())}addIndex(e,t){let n;ta(e!==sL,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,a=t.getIterator(sR.Wrap),s=a.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=a.getNext();n=i?sH(r,e.getCompare()):sK;let o=e.toString(),l=Object.assign({},this.indexSet_);l[o]=e;let u=Object.assign({},this.indexes_);return u[o]=n,new sQ(u,l)}addToIndexes(e,t){return new sQ(tq(this.indexes_,(n,r)=>{let i=tz(this.indexSet_,r);if(ta(i,"Missing index implementation for "+r),n===sK){if(!i.isDefinedOn(e.node))return sK;{let n=[],r=t.getIterator(sR.Wrap),a=r.getNext();for(;a;)a.name!==e.name&&n.push(a),a=r.getNext();return n.push(e),sH(n,i.getCompare())}}{let r=t.get(e.name),i=n;return r&&(i=i.remove(new sR(e.name,r))),i.insert(e,e.node)}}),this.indexSet_)}removeFromIndexes(e,t){return new sQ(tq(this.indexes_,n=>{if(n===sK)return n;{let r=t.get(e.name);return r?n.remove(new sR(e.name,r)):n}}),this.indexSet_)}}class sG{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&sq(this.priorityNode_),this.children_.isEmpty()&&ta(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return l||(l=new sG(new sF(sz),null,sQ.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||l}updatePriority(e){return this.children_.isEmpty()?this:new sG(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{let t=this.children_.get(e);return null===t?l:t}}getChild(e){let t=sp(e);return null===t?this:this.getImmediateChild(t).getChild(sg(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ta(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{let n,r;let i=new sR(e,t);t.isEmpty()?(n=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(n=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));let a=n.isEmpty()?l:this.priorityNode_;return new sG(n,a,r)}}updateChild(e,t){let n=sp(e);if(null===n)return t;{ta(".priority"!==sp(e)||1===sm(e),".priority must be the last token in a path");let r=this.getImmediateChild(n).updateChild(sg(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},n=0,r=0,i=!0;if(this.forEachChild(sV,(a,s)=>{t[a]=s.val(e),n++,i&&sG.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):i=!1}),e||!i||!(r<2*n))return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t;{let e=[];for(let n in t)e[n]=t[n];return e}}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+sj(this.getPriority().val())+":"),this.forEachChild(sV,(t,n)=>{let r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":aT(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let r=this.resolveIndex_(n);if(!r)return this.children_.getPredecessorKey(e);{let n=r.getPredecessorKey(new sR(e,t));return n?n.name:null}}getFirstChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.minKey();{let e=t.minKey();return e&&e.name}}getFirstChild(e){let t=this.getFirstChildName(e);return t?new sR(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();{let e=t.maxKey();return e&&e.name}}getLastChild(e){let t=this.getLastChildName(e);return t?new sR(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{let n=this.children_.getIteratorFrom(e.name,sR.Wrap),r=n.peek();for(;null!=r&&0>t.compare(r,e);)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{let n=this.children_.getReverseIteratorFrom(e.name,sR.Wrap),r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sY?-1:0}withIndex(e){if(e===sL||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new sG(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===sL||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority())||this.children_.count()!==e.children_.count())return!1;{let t=this.getIterator(sV),n=e.getIterator(sV),r=t.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}}resolveIndex_(e){return e===sL?null:this.indexMap_.get(e.toString())}}sG.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const sY=new class extends sG{constructor(){super(new sF(sz),sG.EMPTY_NODE,sQ.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return sG.EMPTY_NODE}isEmpty(){return!1}};function sJ(e,t=null){if(null===e)return sG.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),ta(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new sW(e,sJ(t));if(e instanceof Array){let n=sG.EMPTY_NODE;return aK(e,(t,r)=>{if(tU(e,t)&&"."!==t.substring(0,1)){let e=sJ(r);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(sJ(t))}{let n=[],r=!1;if(aK(e,(e,t)=>{if("."!==e.substring(0,1)){let i=sJ(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new sR(e,i)))}}),0===n.length)return sG.EMPTY_NODE;let i=sH(n,sU,e=>e.name,sz);if(!r)return new sG(i,sJ(t),sQ.Default);{let e=sH(n,sV.getCompare());return new sG(i,sJ(t),new sQ({".priority":e},{".priority":sV}))}}}Object.defineProperties(sR,{MIN:{value:new sR(aj,sG.EMPTY_NODE)},MAX:{value:new sR(aq,sY)}}),sD.__EMPTY_NODE=sG.EMPTY_NODE,sW.__childrenNodeConstructor=sG,r=sY,s=sY,a=sJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX extends sO{constructor(e){super(),this.indexPath_=e,ta(!sw(e)&&".priority"!==sp(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?aW(e.name,t.name):i}makePost(e,t){let n=sJ(e);return new sR(t,sG.EMPTY_NODE.updateChild(this.indexPath_,n))}maxPost(){return new sR(aq,sG.EMPTY_NODE.updateChild(this.indexPath_,sY))}toString(){return sy(this.indexPath_,0).join("/")}}const sZ=new /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class extends sO{compare(e,t){let n=e.node.compareTo(t.node);return 0===n?aW(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return sR.MIN}maxPost(){return sR.MAX}makePost(e,t){return new sR(t,sJ(e))}toString(){return".value"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(e){return{type:"value",snapshotNode:e}}function s1(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function s2(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function s3(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.index_=e}updateChild(e,t,n,r,i,a){ta(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(s2(t,s)):ta(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(s1(t,n)):a.trackChildChange(s3(t,n,s))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return null==n||(e.isLeafNode()||e.forEachChild(sV,(e,r)=>{t.hasChild(e)||n.trackChildChange(s2(e,r))}),t.isLeafNode()||t.forEachChild(sV,(t,r)=>{if(e.hasChild(t)){let i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(s3(t,r,i))}else n.trackChildChange(s1(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?sG.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.indexedFilter_=new s4(e.getIndex()),this.index_=e.getIndex(),this.startPost_=s6.getStartPost_(e),this.endPost_=s6.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),e):0>this.index_.compare(this.getStartPost(),e),n=this.endIsInclusive_?0>=this.index_.compare(e,this.getEndPost()):0>this.index_.compare(e,this.getEndPost());return t&&n}updateChild(e,t,n,r,i,a){return this.matches(new sR(t,n))||(n=sG.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}updateFullNode(e,t,n){t.isLeafNode()&&(t=sG.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(sG.EMPTY_NODE);let i=this;return t.forEachChild(sV,(e,t)=>{i.matches(new sR(e,t))||(r=r.updateImmediateChild(e,sG.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(!e.hasStart())return e.getIndex().minPost();{let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}}static getEndPost_(e){if(!e.hasEnd())return e.getIndex().maxPost();{let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new s6(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,a){return(this.rangedFilter_.matches(new sR(t,n))||(n=sG.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=sG.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=sG.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t)){if(this.withinDirectionalEnd(t))r=r.updateImmediateChild(t.name,t.node),n++;else break}}}else{let e;r=(r=t.withIndex(this.index_)).updatePriority(sG.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){let t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,sG.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let a;if(this.reverse_){let e=this.index_.getCompare();a=(t,n)=>e(n,t)}else a=this.index_.getCompare();ta(e.numChildren()===this.limit_,"");let s=new sR(t,n),o=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(e.hasChild(t)){let u=e.getImmediateChild(t),c=r.getChildAfterChild(this.index_,o,this.reverse_);for(;null!=c&&(c.name===t||e.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);let d=null==c?1:a(c,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(s3(t,n,u)),e.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(s2(t,u));let n=e.updateImmediateChild(t,sG.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(s1(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:l&&a(o,s)>=0?(null!=i&&(i.trackChildChange(s2(o.name,o.node)),i.trackChildChange(s1(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(o.name,sG.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sV}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ta(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(ta(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:aj}hasEnd(){return this.endSet_}getIndexEndValue(){return ta(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(ta(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:aq}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ta(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sV}copy(){let e=new s8;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function s9(e){let t;let n={};if(e.isDefault())return n;if(e.index_===sV?t="$priority":e.index_===sZ?t="$value":e.index_===sL?t="$key":(ta(e.index_ instanceof sX,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=tL(t),e.startSet_){let t=e.startAfterSet_?"startAfter":"startAt";n[t]=tL(e.indexStartValue_),e.startNameSet_&&(n[t]+=","+tL(e.indexStartName_))}if(e.endSet_){let t=e.endBeforeSet_?"endBefore":"endAt";n[t]=tL(e.indexEndValue_),e.endNameSet_&&(n[t]+=","+tL(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function s7(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==sV&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe extends su{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=aD("p:rest:"),this.listens_={}}reportStats(e){throw Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ta(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){let i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);let a=oe.getListenId_(e,n),s={};this.listens_[a]=s;let o=s9(e._queryParams);this.restRequest_(i+".json",o,(e,t)=>{let o=t;404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(i,o,!1,n),tz(this.listens_,a)===s&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}unlisten(e,t){let n=oe.getListenId_(e,t);delete this.listens_[n]}get(e){let t=s9(e._queryParams),n=e._path.toString(),r=new tk;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);let a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tB(t);this.log_("Sending REST request for "+a);let s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=tD(s.responseText)}catch(e){aM("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&aM("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(){this.rootNode_=sG.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return{value:null,children:new Map}}function or(e,t,n){if(sw(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{let r=sp(t);e.children.has(r)||e.children.set(r,on()),or(e.children.get(r),t=sg(t),n)}}function oi(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{oi(r,new sh(t.toString()+"/"+e),n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&aK(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class os{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new oa(e),aX(this.reportStats_.bind(this),Math.floor(1e4+2e4*Math.random()))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;aK(e,(e,r)=>{r>0&&tU(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),aX(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function oo(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ol(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ou(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(O=W||(W={}))[O.OVERWRITE=0]="OVERWRITE",O[O.MERGE=1]="MERGE",O[O.ACK_USER_WRITE=2]="ACK_USER_WRITE",O[O.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=W.ACK_USER_WRITE,this.source=oo()}operationForChild(e){if(!sw(this.path))return ta(sp(this.path)===e,"operationForChild called for unrelated child."),new oc(sg(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return ta(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new sh(e));return new oc(sf(),t,this.revert)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.source=e,this.path=t,this.type=W.LISTEN_COMPLETE}operationForChild(e){return sw(this.path)?new od(this.source,sf()):new od(this.source,sg(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=W.OVERWRITE}operationForChild(e){return sw(this.path)?new oh(this.source,sf(),this.snap.getImmediateChild(e)):new oh(this.source,sg(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=W.MERGE}operationForChild(e){if(!sw(this.path))return ta(sp(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new of(this.source,sg(this.path),this.children);{let t=this.children.subtree(new sh(e));return t.isEmpty()?null:t.value?new oh(this.source,sf(),t.value):new of(this.source,sf(),t)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(sw(e))return this.isFullyInitialized()&&!this.filtered_;let t=sp(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function og(e,t,n,r,i,a){let s=r.filter(e=>e.type===n);s.sort((t,n)=>(function(e,t,n){if(null==t.childName||null==n.childName)throw ts("Should only compare child_ events.");let r=new sR(t.childName,t.snapshotNode),i=new sR(n.childName,n.snapshotNode);return e.index_.compare(r,i)})(e,t,n)),s.forEach(n=>{let r=("value"===n.type||"child_removed"===n.type||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(e,t){return{eventCache:e,serverCache:t}}function oy(e,t,n,r){return ov(new op(t,n,r),e.serverCache)}function o_(e,t,n,r){return ov(e.eventCache,new op(t,n,r))}function ob(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ow(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}const ok=()=>(u||(u=new sF(aV)),u);class oC{constructor(e,t=ok()){this.value=e,this.children=t}static fromObject(e){let t=new oC(null);return aK(e,(e,n)=>{t=t.set(new sh(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:sf(),value:this.value};if(sw(e))return null;{let n=sp(e),r=this.children.get(n);if(null===r)return null;{let i=r.findRootMostMatchingPathAndValue(sg(e),t);return null!=i?{path:sb(new sh(n),i.path),value:i.value}:null}}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(sw(e))return this;{let t=sp(e),n=this.children.get(t);return null!==n?n.subtree(sg(e)):new oC(null)}}set(e,t){if(sw(e))return new oC(t,this.children);{let n=sp(e),r=(this.children.get(n)||new oC(null)).set(sg(e),t),i=this.children.insert(n,r);return new oC(this.value,i)}}remove(e){if(sw(e))return this.children.isEmpty()?new oC(null):new oC(null,this.children);{let t=sp(e),n=this.children.get(t);if(!n)return this;{let r;let i=n.remove(sg(e));return(r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty())?new oC(null):new oC(this.value,r)}}}get(e){if(sw(e))return this.value;{let t=sp(e),n=this.children.get(t);return n?n.get(sg(e)):null}}setTree(e,t){if(sw(e))return t;{let n;let r=sp(e),i=(this.children.get(r)||new oC(null)).setTree(sg(e),t);return n=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new oC(this.value,n)}}fold(e){return this.fold_(sf(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(sb(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,sf(),t)}findOnPath_(e,t,n){let r=!!this.value&&n(t,this.value);if(r)return r;if(sw(e))return null;{let r=sp(e),i=this.children.get(r);return i?i.findOnPath_(sg(e),sb(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,sf(),t)}foreachOnPath_(e,t,n){if(sw(e))return this;{this.value&&n(t,this.value);let r=sp(e),i=this.children.get(r);return i?i.foreachOnPath_(sg(e),sb(t,r),n):new oC(null)}}foreach(e){this.foreach_(sf(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(sb(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.writeTree_=e}static empty(){return new oS(new oC(null))}}function oI(e,t,n){if(sw(t))return new oS(new oC(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){let i=r.path,a=r.value,s=sk(i,t);return a=a.updateChild(s,n),new oS(e.writeTree_.set(i,a))}{let r=new oC(n);return new oS(e.writeTree_.setTree(t,r))}}}function oE(e,t,n){let r=e;return aK(n,(e,n)=>{r=oI(r,sb(t,e),n)}),r}function oT(e,t){return sw(t)?oS.empty():new oS(e.writeTree_.setTree(t,new oC(null)))}function oP(e,t){return null!=ox(e,t)}function ox(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(sk(n.path,t)):null}function oN(e){let t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(sV,(e,n)=>{t.push(new sR(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new sR(e,n.value))}),t}function oR(e,t){if(sw(t))return e;{let n=ox(e,t);return new oS(null!=n?new oC(n):e.writeTree_.subtree(t))}}function oO(e){return e.writeTree_.isEmpty()}function oD(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((n,a)=>{".priority"===n?(ta(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(sb(t,n),a,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(sb(t,".priority"),i)),r}}(sf(),e.writeTree_,t)}function oL(e){return e.visible}function oA(e,t,n){let r=oS.empty();for(let i=0;i<e.length;++i){let a=e[i];if(t(a)){let e;let t=a.path;if(a.snap)sI(n,t)?r=oI(r,e=sk(n,t),a.snap):sI(t,n)&&(e=sk(t,n),r=oI(r,sf(),a.snap.getChild(e)));else if(a.children){if(sI(n,t))r=oE(r,e=sk(n,t),a.children);else if(sI(t,n)){if(sw(e=sk(t,n)))r=oE(r,sf(),a.children);else{let t=tz(a.children,sp(e));if(t){let n=t.getChild(sg(e));r=oI(r,sf(),n)}}}}else throw ts("WriteRecord should have .snap or .children")}}return r}function oM(e,t,n,r,i){if(r||i){let a=oR(e.visibleWrites,t);return!i&&oO(a)?n:i||null!=n||oP(a,sf())?oD(oA(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(sI(e.path,t)||sI(t,e.path))},t),n||sG.EMPTY_NODE):null}{let r=ox(e.visibleWrites,t);if(null!=r)return r;{let r=oR(e.visibleWrites,t);return oO(r)?n:null!=n||oP(r,sf())?oD(r,n||sG.EMPTY_NODE):null}}}function oF(e,t,n,r){return oM(e.writeTree,e.treePath,t,n,r)}function oU(e,t){return function(e,t,n){let r=sG.EMPTY_NODE,i=ox(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(sV,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(!n)return oN(oR(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r;{let i=oR(e.visibleWrites,t);return n.forEachChild(sV,(e,t)=>{let n=oD(oR(i,new sh(e)),t);r=r.updateImmediateChild(e,n)}),oN(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}}(e.writeTree,e.treePath,t)}function oz(e,t,n,r){return function(e,t,n,r,i){ta(r||i,"Either existingEventSnap or existingServerSnap must exist");let a=sb(t,n);if(oP(e.visibleWrites,a))return null;{let t=oR(e.visibleWrites,a);return oO(t)?i.getChild(n):oD(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function oj(e,t){var n,r;return n=e.writeTree,r=sb(e.treePath,t),ox(n.visibleWrites,r)}function oq(e,t,n){return function(e,t,n,r){let i=sb(t,n),a=ox(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?oD(oR(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function oW(e,t){return oV(sb(e.treePath,t),e.writeTree)}function oV(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;ta("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ta(".priority"!==n,"Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,s3(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,s2(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,s1(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===i)this.changeMap.set(n,s3(n,e.snapshotNode,r.oldSnap));else throw ts("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const o$=new /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class oH{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=null!=this.optCompleteServerCache_?new op(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oq(this.writes_,e,t)}}getChildAfterChild(e,t,n){var r;let i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ow(this.viewCache_),a=function(e,t,n,r,i,a,s){let o;let l=oR(e.visibleWrites,t),u=ox(l,sf());if(null!=u)o=u;else{if(null==n)return[];o=oD(l,n)}if((o=o.withIndex(s)).isEmpty()||o.isLeafNode())return[];{let e=[],t=s.getCompare(),n=a?o.getReverseIteratorFrom(r,s):o.getIteratorFrom(r,s),i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}((r=this.writes_).writeTree,r.treePath,i,t,0,n,e);return 0===a.length?null:a[0]}}function oK(e,t,n,r,i,a){let s=t.eventCache;if(null!=oj(r,n))return t;{let o,l;if(sw(n)){if(ta(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let n=ow(t),i=oU(r,n instanceof sG?n:sG.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),i,a)}else{let n=oF(r,ow(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,a)}}else{let u=sp(n);if(".priority"===u){ta(1===sm(n),"Can't have a priority with additional path components");let i=s.getNode(),a=oz(r,n,i,l=t.serverCache.getNode());o=null!=a?e.filter.updatePriority(i,a):s.getNode()}else{let c;let d=sg(n);if(s.isCompleteForChild(u)){l=t.serverCache.getNode();let e=oz(r,n,s.getNode(),l);c=null!=e?s.getNode().getImmediateChild(u).updateChild(d,e):s.getNode().getImmediateChild(u)}else c=oq(r,u,t.serverCache);o=null!=c?e.filter.updateChild(s.getNode(),u,c,d,i,a):s.getNode()}}return oy(t,o,s.isFullyInitialized()||sw(n),e.filter.filtersNodes())}}function oQ(e,t,n,r,i,a,s,o){let l;let u=t.serverCache,c=s?e.filter:e.filter.getIndexedFilter();if(sw(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){let e=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),e,null)}else{let e=sp(n);if(!u.isCompleteForPath(n)&&sm(n)>1)return t;let i=sg(n),a=u.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?c.updatePriority(u.getNode(),a):c.updateChild(u.getNode(),e,a,i,o$,null)}let d=o_(t,l,u.isFullyInitialized()||sw(n),c.filtersNodes()),h=new oH(i,d,a);return oK(e,d,n,i,h,o)}function oG(e,t,n,r,i,a,s){let o,l;let u=t.eventCache,c=new oH(i,t,a);if(sw(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),o=oy(t,l,!0,e.filter.filtersNodes());else{let i=sp(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),o=oy(t,l,u.isFullyInitialized(),u.isFiltered());else{let a;let l=sg(n),d=u.getNode().getImmediateChild(i);if(sw(l))a=r;else{let e=c.getCompleteChild(i);a=null!=e?".priority"===sv(l)&&e.getChild(s_(l)).isEmpty()?e:e.updateChild(l,r):sG.EMPTY_NODE}o=d.equals(a)?t:oy(t,e.filter.updateChild(u.getNode(),i,a,l,c,s),u.isFullyInitialized(),e.filter.filtersNodes())}}return o}function oY(e,t){return e.eventCache.isCompleteForChild(t)}function oJ(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function oX(e,t,n,r,i,a,s,o){let l;if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t;l=sw(n)?r:new oC(null).setTree(n,r);let c=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(c.hasChild(n)){let l=oJ(e,t.serverCache.getNode().getImmediateChild(n),r);u=oQ(e,u,new sh(n),l,i,a,s,o)}}),l.children.inorderTraversal((n,r)=>{let l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){let l=oJ(e,t.serverCache.getNode().getImmediateChild(n),r);u=oQ(e,u,new sh(n),l,i,a,s,o)}}),u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let n=this.query_._queryParams,r=new s4(n.getIndex()),i=n.loadsAllData()?new s4(n.getIndex()):n.hasLimit()?new s5(n):new s6(n);this.processor_={filter:i};let a=t.serverCache,s=t.eventCache,o=r.updateFullNode(sG.EMPTY_NODE,a.getNode(),null),l=i.updateFullNode(sG.EMPTY_NODE,s.getNode(),null),u=new op(o,a.isFullyInitialized(),r.filtersNodes()),c=new op(l,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=ov(c,u),this.eventGenerator_=new om(this.query_)}get query(){return this.query_}}function o0(e){return 0===e.eventRegistrations_.length}function o1(e,t,n){let r=[];if(n){ta(null==t,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){let i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function o2(e,t,n,r){var i,a;t.type===W.MERGE&&null!==t.source.queryId&&(ta(ow(e.viewCache_),"We should always have a full cache before handling merges"),ta(ob(e.viewCache_),"Missing event cache, even though we have a server cache"));let s=e.viewCache_,o=function(e,t,n,r,i){let a,s;let o=new oB;if(n.type===W.OVERWRITE)n.source.fromUser?a=oG(e,t,n.path,n.snap,r,i,o):(ta(n.source.fromServer,"Unknown source."),s=n.source.tagged||t.serverCache.isFiltered()&&!sw(n.path),a=oQ(e,t,n.path,n.snap,r,i,s,o));else if(n.type===W.MERGE){var l,u;let c;n.source.fromUser?(l=n.path,u=n.children,c=t,u.foreach((n,a)=>{let s=sb(l,n);oY(t,sp(s))&&(c=oG(e,c,s,a,r,i,o))}),u.foreach((n,a)=>{let s=sb(l,n);oY(t,sp(s))||(c=oG(e,c,s,a,r,i,o))}),a=c):(ta(n.source.fromServer,"Unknown source."),s=n.source.tagged||t.serverCache.isFiltered(),a=oX(e,t,n.path,n.children,r,i,s,o))}else if(n.type===W.ACK_USER_WRITE)a=n.revert?function(e,t,n,r,i,a){let s;if(null!=oj(r,n))return t;{let o;let l=new oH(r,t,i),u=t.eventCache.getNode();if(sw(n)||".priority"===sp(n)){let n;if(t.serverCache.isFullyInitialized())n=oF(r,ow(t));else{let e=t.serverCache.getNode();ta(e instanceof sG,"serverChildren would be complete if leaf node"),n=oU(r,e)}o=e.filter.updateFullNode(u,n,a)}else{let i=sp(n),c=oq(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=u.getImmediateChild(i)),(o=null!=c?e.filter.updateChild(u,i,c,sg(n),l,a):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,sG.EMPTY_NODE,sg(n),l,a):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=oF(r,ow(t))).isLeafNode()&&(o=e.filter.updateFullNode(o,s,a))}return s=t.serverCache.isFullyInitialized()||null!=oj(r,sf()),oy(t,o,s,e.filter.filtersNodes())}}(e,t,n.path,r,i,o):function(e,t,n,r,i,a,s){if(null!=oj(i,n))return t;let o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(sw(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return oQ(e,t,n,l.getNode().getChild(n),i,a,o,s);if(!sw(n))return t;{let r=new oC(null);return l.getNode().forEachChild(sL,(e,t)=>{r=r.set(new sh(e),t)}),oX(e,t,n,r,i,a,o,s)}}{let u=new oC(null);return r.foreach((e,t)=>{let r=sb(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))}),oX(e,t,n,u,i,a,o,s)}}(e,t,n.path,n.affectedTree,r,i,o);else if(n.type===W.LISTEN_COMPLETE)a=function(e,t,n,r,i){let a=t.serverCache;return oK(e,o_(t,a.getNode(),a.isFullyInitialized()||sw(n),a.isFiltered()),n,r,o$,i)}(e,t,n.path,r,o);else throw ts("Unknown operation type: "+n.type);let c=o.getChanges();return function(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ob(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!i||r.getNode().equals(a))&&r.getNode().getPriority().equals(a.getPriority())||n.push(s0(ob(t)))}}(t,a,c),{viewCache:a,changes:c}}(e.processor_,s,t,n,r);return i=e.processor_,ta((a=o.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ta(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ta(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,o3(e,o.changes,o.viewCache.eventCache.getNode(),null)}function o3(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){let i=[],a=[];return t.forEach(t=>{if("child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)){var n;a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}}),og(e,i,"child_removed",t,r,n),og(e,i,"child_added",t,r,n),og(e,i,"child_moved",a,r,n),og(e,i,"child_changed",t,r,n),og(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}class o4{constructor(){this.views=new Map}}function o6(e,t,n,r){let i=t.source.queryId;if(null!==i){let a=e.views.get(i);return ta(null!=a,"SyncTree gave us an op for an invalid query."),o2(a,t,n,r)}{let i=[];for(let a of e.views.values())i=i.concat(o2(a,t,n,r));return i}}function o5(e,t,n,r,i){let a=t._queryIdentifier,s=e.views.get(a);if(!s){let e=oF(n,i?r:null),a=!1;return e?a=!0:(e=r instanceof sG?oU(n,r):sG.EMPTY_NODE,a=!1),new oZ(t,ov(new op(e,a,!1),new op(r,i,!1)))}return s}function o8(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function o9(e,t){let n=null;for(let r of e.views.values())n=n||function(e,t){let n=ow(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!sw(t)&&!n.getImmediateChild(sp(t)).isEmpty())?n.getChild(t):null}(r,t);return n}function o7(e,t){if(t._queryParams.loadsAllData())return lt(e);{let n=t._queryIdentifier;return e.views.get(n)}}function le(e){return null!=lt(e)}function lt(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ln=1;class lr{constructor(e){this.listenProvider_=e,this.syncPointTree_=new oC(null),this.pendingWriteTree_={visibleWrites:oS.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function li(e,t,n,r,i){var a,s;return(a=e.pendingWriteTree_,s=i,ta(r>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),a.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(a.visibleWrites=oI(a.visibleWrites,t,n)),a.lastWriteId=r,i)?ld(e,new oh(oo(),t,n)):[]}function la(e,t,n=!1){let r=function(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(!function(e,t){let n=e.allWrites.findIndex(e=>e.writeId===t);ta(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let t=e.allWrites[s];t.visible&&(s>=n&&function(e,t){if(e.snap)return sI(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&sI(sb(e.path,n),t))return!0;return!1}(t,r.path)?i=!1:sI(r.path,t.path)&&(a=!0)),s--}return!!i&&(a?(e.visibleWrites=oA(e.allWrites,oL,sf()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1):r.snap?e.visibleWrites=oT(e.visibleWrites,r.path):aK(r.children,t=>{e.visibleWrites=oT(e.visibleWrites,sb(r.path,t))}),!0)}(e.pendingWriteTree_,t))return[];{let t=new oC(null);return null!=r.snap?t=t.set(sf(),!0):aK(r.children,e=>{t=t.set(new sh(e),!0)}),ld(e,new oc(r.path,t,n))}}function ls(e,t,n){return ld(e,new oh(ol(),t,n))}function lo(e,t,n,r,i=!1){let a=t._path,s=e.syncPointTree_.get(a),o=[];if(s&&("default"===t._queryIdentifier||null!=o7(s,t))){let l=function(e,t,n,r){let i=t._queryIdentifier,a=[],s=[],o=le(e);if("default"===i)for(let[t,i]of e.views.entries())s=s.concat(o1(i,n,r)),o0(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||a.push(i.query));else{let t=e.views.get(i);t&&(s=s.concat(o1(t,n,r)),o0(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||a.push(t.query)))}return o&&!le(e)&&a.push(new(ta(c,"Reference.ts has not been loaded"),c)(t._repo,t._path)),{removed:a,events:s}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));let u=l.removed;if(o=l.events,!i){let n=-1!==u.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(a,(e,t)=>le(t));if(n&&!i){let t=e.syncPointTree_.subtree(a);if(!t.isEmpty()){let n=t.fold((e,t,n)=>{if(t&&le(t))return[lt(t)];{let e=[];return t&&(e=o8(t)),aK(n,(t,n)=>{e=e.concat(n)}),e}});for(let t=0;t<n.length;++t){let r=n[t],i=r.query,a=lh(e,r);e.listenProvider_.startListening(ly(i),lf(e,i),a.hashFn,a.onComplete)}}}i||!(u.length>0)||r||(n?e.listenProvider_.stopListening(ly(t),null):u.forEach(t=>{let n=e.queryToTagMap.get(lp(t));e.listenProvider_.stopListening(ly(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let t=lp(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return o}function ll(e,t,n,r){let i=lm(e,r);if(null==i)return[];{let r=lg(i),a=r.path,s=r.queryId,o=sk(a,t);return lv(e,a,new oh(ou(s),o,n))}}function lu(e,t,n,r=!1){let i;let a=t._path,s=null,o=!1;e.syncPointTree_.foreachOnPath(a,(e,t)=>{let n=sk(e,a);s=s||o9(t,n),o=o||le(t)});let l=e.syncPointTree_.get(a);l?(o=o||le(l),s=s||o9(l,sf())):(l=new o4,e.syncPointTree_=e.syncPointTree_.set(a,l)),null!=s?i=!0:(i=!1,s=sG.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((e,t)=>{let n=o9(t,sf());n&&(s=s.updateImmediateChild(e,n))}));let u=null!=o7(l,t);if(!u&&!t._queryParams.loadsAllData()){let n=lp(t);ta(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");let r=ln++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=function(e,t,n,r,i,a){let s=o5(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),!function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(sV,(e,t)=>{r.push(s1(e,t))}),n.isFullyInitialized()&&r.push(s0(n.getNode())),o3(e,r,n.getNode(),t)}(s,n)}(l,t,n,oV(a,e.pendingWriteTree_),s,i);if(!u&&!o&&!r){let n=o7(l,t);c=c.concat(function(e,t,n){let r=t._path,i=lf(e,t),a=lh(e,n),s=e.listenProvider_.startListening(ly(t),i,a.hashFn,a.onComplete),o=e.syncPointTree_.subtree(r);if(i)ta(!le(o.value),"If we're adding a query, it shouldn't be shadowed");else{let t=o.fold((e,t,n)=>{if(!sw(e)&&t&&le(t))return[lt(t).query];{let e=[];return t&&(e=e.concat(o8(t).map(e=>e.query))),aK(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){let r=t[n];e.listenProvider_.stopListening(ly(r),lf(e,r))}}return s}(e,t,n))}return c}function lc(e,t,n){let r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{let r=o9(n,sk(e,t));if(r)return r});return oM(r,t,i,n,!0)}function ld(e,t){var n;return function e(t,n,r,i){if(sw(t.path))return function e(t,n,r,i){let a=n.get(sf());null==r&&null!=a&&(r=o9(a,sf()));let s=[];return n.children.inorderTraversal((n,a)=>{let o=r?r.getImmediateChild(n):null,l=oW(i,n),u=t.operationForChild(n);u&&(s=s.concat(e(u,a,o,l)))}),a&&(s=s.concat(o6(a,t,i,r))),s}(t,n,r,i);{let a=n.get(sf());null==r&&null!=a&&(r=o9(a,sf()));let s=[],o=sp(t.path),l=t.operationForChild(o),u=n.children.get(o);if(u&&l){let t=r?r.getImmediateChild(o):null,n=oW(i,o);s=s.concat(e(l,u,t,n))}return a&&(s=s.concat(o6(a,t,i,r))),s}}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,oV(sf(),n)))}function lh(e,t){let n=t.query,r=lf(e,n);return{hashFn:()=>(t.viewCache_.serverCache.getNode()||sG.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t){var i;return r?function(e,t,n){let r=lm(e,n);if(!r)return[];{let n=lg(r),i=n.path,a=n.queryId,s=sk(i,t);return lv(e,i,new od(ou(a),s))}}(e,n._path,r):(i=n._path,ld(e,new od(ol(),i)))}{let r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");let r=Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return lo(e,n,null,r)}}}}function lf(e,t){let n=lp(t);return e.queryToTagMap.get(n)}function lp(e){return e._path.toString()+"$"+e._queryIdentifier}function lm(e,t){return e.tagToQueryMap.get(t)}function lg(e){let t=e.indexOf("$");return ta(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new sh(e.substr(0,t))}}function lv(e,t,n){let r=e.syncPointTree_.get(t);return ta(r,"Missing sync point for query tag that we're tracking"),o6(r,n,oV(t,e.pendingWriteTree_),null)}function ly(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ta(d,"Reference.ts has not been loaded"),d)(e._repo,e._path):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.node_=e}getImmediateChild(e){return new l_(this.node_.getImmediateChild(e))}node(){return this.node_}}class lb{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=sb(this.path_,e);return new lb(this.syncTree_,t)}node(){return lc(this.syncTree_,this.path_)}}const lw=function(e,t,n){return e&&"object"==typeof e?(ta(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?lk(e[".sv"],t,n):"object"==typeof e[".sv"]?lC(e[".sv"],t):void ta(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},lk=function(e,t,n){if("timestamp"===e)return n.timestamp;ta(!1,"Unexpected server value: "+e)},lC=function(e,t,n){e.hasOwnProperty("increment")||ta(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;"number"!=typeof r&&ta(!1,"Unexpected increment value: "+r);let i=t.node();if(ta(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let a=i.getValue();return"number"!=typeof a?r:a+r},lS=function(e,t,n,r){return lE(t,new lb(n,e),r)},lI=function(e,t,n){return lE(e,new l_(t),n)};function lE(e,t,n){let r;let i=lw(e.getPriority().val(),t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return r=e,i!==e.getPriority().val()&&(r=r.updatePriority(new sW(i))),e.forEachChild(sV,(e,i)=>{let a=lE(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))}),r;{let r=lw(e.getValue(),t,n);return r!==e.getValue()||i!==e.getPriority().val()?new sW(r,sJ(i)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function lP(e,t){let n=t instanceof sh?t:new sh(t),r=e,i=sp(n);for(;null!==i;){let e=tz(r.node.children,i)||{children:{},childCount:0};r=new lT(i,r,e),i=sp(n=sg(n))}return r}function lx(e){return e.node.value}function lN(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){let i=void 0===lx(r)&&!lR(r),a=tU(t.node.children,n);i&&a?(delete t.node.children[n],t.node.childCount--,e(t)):i||a||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function lR(e){return e.node.childCount>0}function lO(e,t){aK(e.node.children,(n,r)=>{t(new lT(n,e,r))})}function lD(e){return new sh(null===e.parent?e.name:lD(e.parent)+"/"+e.name)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/[\[\].#$\/\u0000-\u001F\u007F]/,lA=/[\[\].#$\u0000-\u001F\u007F]/,lM=function(e){return"string"==typeof e&&0!==e.length&&!lL.test(e)},lF=function(e){return"string"==typeof e&&0!==e.length&&!lA.test(e)},lU=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!aU(e)||e&&"object"==typeof e&&tU(e,".sv")},lz=function(e,t,n,r){r&&void 0===t||lj(tY(e,"value"),t,n)},lj=function(e,t,n){let r=n instanceof sh?new sE(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+sP(r));if("function"==typeof t)throw Error(e+"contains a function "+sP(r)+" with contents = "+t.toString());if(aU(t))throw Error(e+"contains "+t.toString()+" "+sP(r));if("string"==typeof t&&t.length>10485760/3&&tX(t)>10485760)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+sP(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(aK(t,(t,a)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!lM(t)))throw Error(e+" contains an invalid key ("+t+") "+sP(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=tX(t),sT(r),lj(e,a,r),function(e){let t=e.parts_.pop();e.byteLength_-=tX(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw Error(e+' contains ".value" child '+sP(r)+" in addition to actual children.")}},lq=function(e,t){let n,r;for(n=0;n<t.length;n++){let i=sy(r=t[n]);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!lM(i[t]))throw Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(sC);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&sI(i,r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},lW=function(e,t,n,r){if(r&&void 0===t)return;let i=tY(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(i+" must be an object containing the children to replace.");let a=[];aK(t,(e,t)=>{let r=new sh(e);if(lj(i,t,sb(n,r)),".priority"===sv(r)&&!lU(t))throw Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),lq(i,a)},lV=function(e,t,n){if(!n||void 0!==t){if(aU(t))throw Error(tY(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lU(t))throw Error(tY(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},lB=function(e,t,n,r){if((!r||void 0!==n)&&!lM(n))throw Error(tY(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},l$=function(e,t,n,r){if((!r||void 0!==n)&&!lF(n))throw Error(tY(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},lH=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),l$(e,t,n,r)},lK=function(e,t){if(".info"===sp(t))throw Error(e+" failed = Can't modify data under /.info/")},lQ=function(e,t){var n;let r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!lM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&((n=r)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!lF(n)))throw Error(tY(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lY(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],a=i.getPath();null===n||sS(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function lJ(e,t,n){lY(e,n),lZ(e,e=>sS(e,t))}function lX(e,t,n){lY(e,n),lZ(e,e=>sI(e,t)||sI(t,e))}function lZ(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(null!==n){e.events[t]=null;let r=n.getEventRunner();ax&&aO("event: "+n.toString()),aJ(r)}}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}class l0{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=on(),this.transactionQueueTree_=new lT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function l1(e){var t;return(t=t={timestamp:function(e){let t=e.infoData_.getNode(new sh(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}(e)}).timestamp=t.timestamp||new Date().getTime(),t}function l2(e,t,n,r,i){e.dataUpdateCount++;let a=new sh(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i){if(r){let t=tq(n,e=>sJ(e));s=function(e,t,n,r){let i=lm(e,r);if(!i)return[];{let r=lg(i),a=r.path,s=r.queryId,o=sk(a,t),l=oC.fromObject(n);return lv(e,a,new of(ou(s),o,l))}}(e.serverSyncTree_,a,t,i)}else{let t=sJ(n);s=ll(e.serverSyncTree_,a,t,i)}}else if(r){let t=tq(n,e=>sJ(e));s=function(e,t,n){let r=oC.fromObject(n);return ld(e,new of(ol(),t,r))}(e.serverSyncTree_,a,t)}else{let t=sJ(n);s=ls(e.serverSyncTree_,a,t)}let o=a;s.length>0&&(o=ut(e,a)),lX(e.eventQueue_,o,s)}function l3(e,t){l4(e,"connected",t),!1===t&&function(e){l9(e,"onDisconnectEvents");let t=l1(e),n=on();oi(e.onDisconnect_,sf(),(r,i)=>{let a=lS(r,i,e.serverSyncTree_,t);or(n,r,a)});let r=[];oi(n,sf(),(t,n)=>{r=r.concat(ls(e.serverSyncTree_,t,n));let i=ua(e,t);ut(e,i)}),e.onDisconnect_=on(),lX(e.eventQueue_,sf(),r)}(e)}function l4(e,t,n){let r=new sh("/.info/"+t),i=sJ(n);e.infoData_.updateSnapshot(r,i);let a=ls(e.infoSyncTree_,r,i);lX(e.eventQueue_,r,a)}function l6(e){return e.nextWriteId_++}function l5(e,t,n,r){let i=sJ(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,a)=>{"ok"===n&&or(e.onDisconnect_,t,i),l7(e,r,n,a)})}function l8(e,t,n){let r;r=".info"===sp(t._path)?lo(e.infoSyncTree_,t,n):lo(e.serverSyncTree_,t,n),lJ(e.eventQueue_,t._path,r)}function l9(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),aO(n,...t)}function l7(e,t,n,r){t&&aJ(()=>{if("ok"===n)t(null);else{let e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);let a=Error(i);a.code=e,t(a)}})}function ue(e,t,n){return lc(e.serverSyncTree_,t,n)||sG.EMPTY_NODE}function ut(e,t){let n=un(e,t),r=lD(n),i=ur(e,n);return function(e,t,n){if(0===t.length)return;let r=[],i=[],a=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let s=0;s<t.length;s++){let o=t[s],l=sk(n,o.path),u=!1,c;if(ta(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(la(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status){if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(la(e.serverSyncTree_,o.currentWriteId,!0));else{let n=ue(e,o.path,a);o.currentInputSnapshot=n;let r=t[s].update(n.val());if(void 0!==r){lj("transaction failed: Data returned ",r,o.path);let t=sJ(r);"object"==typeof r&&null!=r&&tU(r,".priority")||(t=t.updatePriority(n.getPriority()));let s=o.currentWriteId,l=lI(t,n,l1(e));o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=l,o.currentWriteId=l6(e),a.splice(a.indexOf(s),1),i=(i=i.concat(li(e.serverSyncTree_,o.path,l,o.currentWriteId,o.applyLocally))).concat(la(e.serverSyncTree_,s,!0))}else u=!0,c="nodata",i=i.concat(la(e.serverSyncTree_,o.currentWriteId,!0))}}lX(e.eventQueue_,n,i),i=[],u&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&("nodata"===c?r.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):r.push(()=>t[s].onComplete(Error(c),!1,null))))}ui(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)aJ(r[e]);(function e(t,n=t.transactionQueueTree_){if(n||ui(t,n),lx(n)){let r=ur(t,n);ta(r.length>0,"Sending zero length transaction queue"),r.every(e=>0===e.status)&&function(t,n,r){let i=ue(t,n,r.map(e=>e.currentWriteId)),a=i,s=i.hash();for(let e=0;e<r.length;e++){let t=r[e];ta(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;let i=sk(n,t.path);a=a.updateChild(i,t.currentOutputSnapshotRaw)}let o=a.val(!0);t.server_.put(n.toString(),o,i=>{l9(t,"transaction put response",{path:n.toString(),status:i});let a=[];if("ok"===i){let i=[];for(let e=0;e<r.length;e++)r[e].status=2,a=a.concat(la(t.serverSyncTree_,r[e].currentWriteId)),r[e].onComplete&&i.push(()=>r[e].onComplete(null,!0,r[e].currentOutputSnapshotResolved)),r[e].unwatcher();ui(t,lP(t.transactionQueueTree_,n)),e(t,t.transactionQueueTree_),lX(t.eventQueue_,n,a);for(let e=0;e<i.length;e++)aJ(i[e])}else{if("datastale"===i)for(let e=0;e<r.length;e++)3===r[e].status?r[e].status=4:r[e].status=0;else{aM("transaction at "+n.toString()+" failed: "+i);for(let e=0;e<r.length;e++)r[e].status=4,r[e].abortReason=i}ut(t,n)}},s)}(t,lD(n),r)}else lR(n)&&lO(n,n=>{e(t,n)})})(e,e.transactionQueueTree_)}(e,i,r),r}function un(e,t){let n;let r=e.transactionQueueTree_;for(n=sp(t);null!==n&&void 0===lx(r);)r=lP(r,n),n=sp(t=sg(t));return r}function ur(e,t){let n=[];return function e(t,n,r){let i=lx(n);if(i)for(let e=0;e<i.length;e++)r.push(i[e]);lO(n,n=>{e(t,n,r)})}(e,t,n),n.sort((e,t)=>e.order-t.order),n}function ui(e,t){let n=lx(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,lN(t,n.length>0?n:void 0)}lO(t,t=>{ui(e,t)})}function ua(e,t){let n=lD(un(e,t)),r=lP(e.transactionQueueTree_,t);return!function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{us(e,t)}),us(e,r),!function e(t,n,r,i){r&&!i&&n(t),lO(t,t=>{e(t,n,!0,i)}),r&&i&&n(t)}(r,t=>{us(e,t)}),n}function us(e,t){let n=lx(t);if(n){let r=[],i=[],a=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ta(a===t-1,"All SENT items should be at beginning of queue."),a=t,n[t].status=3,n[t].abortReason="set"):(ta(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(la(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,Error("set"),!1,null))));-1===a?lN(t,void 0):n.length=a+1,lX(e.eventQueue_,lD(t),i);for(let e=0;e<r.length;e++)aJ(r[e])}}const uo=function(e,t){let n=ul(e),r=n.namespace;"firebase.com"===n.domain&&aA(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||aA("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||aF();let i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new a6(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new sh(n.pathString)}},ul=function(e){let t="",n="",r="",i="",a="",s=!0,o="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(o=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="",n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,d)));let h=function(e){let t={};for(let n of("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&"))){if(0===n.length)continue;let r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):aM(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));(u=t.indexOf(":"))>=0?(s="https"===o||"wss"===o,l=parseInt(t.substring(u+1),10)):u=t.length;let f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{let e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:o,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){let e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tL(this.snapshot.exportVal())}}class uc{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ta(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this._repo=e,this._path=t}cancel(){let e=new tk;return!function(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&function e(t,n){if(sw(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{let r=t.value;return t.value=null,r.forEachChild(sV,(e,n)=>{or(t,new sh(e),n)}),e(t,n)}}if(!(t.children.size>0))return!0;{let r=sp(n);return n=sg(n),t.children.has(r)&&e(t.children.get(r),n)&&t.children.delete(r),0===t.children.size}}(e.onDisconnect_,t),l7(e,n,r,i)})}(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){lK("OnDisconnect.remove",this._path);let e=new tk;return l5(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){lK("OnDisconnect.set",this._path),lz("OnDisconnect.set",e,this._path,!1);let t=new tk;return l5(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){lK("OnDisconnect.setWithPriority",this._path),lz("OnDisconnect.setWithPriority",e,this._path,!1),lV("OnDisconnect.setWithPriority",t,!1);let n=new tk;return!function(e,t,n,r,i){let a=sJ(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(n,r)=>{"ok"===n&&or(e.onDisconnect_,t,a),l7(e,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){lK("OnDisconnect.update",this._path),lW("OnDisconnect.update",e,this._path,!1);let t=new tk;return!function(e,t,n,r){if(tj(n)){aO("onDisconnect().update() called with empty data.  Don't do anything."),l7(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,a)=>{"ok"===i&&aK(n,(n,r)=>{let i=sJ(r);or(e.onDisconnect_,sb(t,n),i)}),l7(e,r,i,a)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return sw(this._path)?null:sv(this._path)}get ref(){return new ug(this._repo,this._path)}get _queryIdentifier(){let e=a$(s7(this._queryParams));return"{}"===e?"default":e}get _queryObject(){return s7(this._queryParams)}isEqual(e){if(!((e=t0(e))instanceof uf))return!1;let t=this._repo===e._repo,n=sS(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function up(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===sL){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==aj)throw Error(r);if("string"!=typeof t)throw Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==aq)throw Error(r);if("string"!=typeof n)throw Error(i)}}else if(e.getIndex()===sV){if(null!=t&&!lU(t)||null!=n&&!lU(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ta(e.getIndex() instanceof sX||e.getIndex()===sZ,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function um(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ug extends uf{constructor(e,t){super(e,t,new s8,!1)}get parent(){let e=s_(this._path);return null===e?null:new ug(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class uv{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new sh(e),n=u_(this.ref,e);return new uv(this._node.getChild(t),n,sV)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new uv(n,u_(this.ref,t),sV)))}hasChild(e){let t=new sh(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uy(e,t){return(e=t0(e))._checkNotDeleted("ref"),void 0!==t?u_(e._root,t):e._root}function u_(e,t){return null===sp((e=t0(e))._path)?lH("child","path",t,!1):l$("child","path",t,!1),new ug(e._repo,sb(e._path,t))}function ub(e){return new uh((e=t0(e))._repo,e._path)}function uw(e,t){lW("update",t,e._path,!1);let n=new tk;return!function(e,t,n,r){l9(e,"update",{path:t.toString(),value:n});let i=!0,a=l1(e),s={};if(aK(n,(n,r)=>{i=!1,s[n]=lS(sb(t,n),sJ(r),e.serverSyncTree_,a)}),i)aO("update() called with empty data.  Don't do anything."),l7(e,r,"ok",void 0);else{let i=l6(e),a=function(e,t,n,r){var i;ta(r>(i=e.pendingWriteTree_).lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:n,writeId:r,visible:!0}),i.visibleWrites=oE(i.visibleWrites,t,n),i.lastWriteId=r;let a=oC.fromObject(n);return ld(e,new of(oo(),t,a))}(e.serverSyncTree_,t,s,i);lY(e.eventQueue_,a),e.server_.merge(t.toString(),n,(n,a)=>{let s="ok"===n;s||aM("update at "+t+" failed: "+n);let o=la(e.serverSyncTree_,i,!s),l=o.length>0?ut(e,t):t;lX(e.eventQueue_,l,o),l7(e,r,n,a)}),aK(n,n=>{let r=ua(e,sb(t,n));ut(e,r)}),lX(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class uk{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){let n=t._queryParams.getIndex();return new uu("value",this,new uv(e.snapshotNode,new ug(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new uc(this,e,t):null}matches(e){return e instanceof uk&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class uC{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new uc(this,e,t):null}createEvent(e,t){ta(null!=e.childName,"Child events should have a childName.");let n=u_(new ug(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new uu(e.type,this,new uv(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof uC&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function uS(e,t,n,r){return function(e,t,n,r,i){var a;let s,o;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){let t=n,r=(n,r)=>{l8(e._repo,e,u),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}let l=new ud(n,s||void 0),u="value"===t?new uk(l):new uC(t,l);return a=e._repo,o=".info"===sp(e._path)?lu(a.infoSyncTree_,e,u):lu(a.serverSyncTree_,e,u),lJ(a.eventQueue_,e._path,o),()=>l8(e._repo,e,u)}(e,"value",t,n,r)}class uI{}class uE extends uI{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){lz("endAt",this._value,e._path,!0);let t=function(e,t,n){let r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}(e._queryParams,this._value,this._key);if(um(t),up(t),e._queryParams.hasEnd())throw Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new uf(e._repo,e._path,t,e._orderByCalled)}}class uT extends uI{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){lz("startAt",this._value,e._path,!0);let t=function(e,t,n){let r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}(e._queryParams,this._value,this._key);if(um(t),up(t),e._queryParams.hasStart())throw Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new uf(e._repo,e._path,t,e._orderByCalled)}}class uP extends uI{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new uf(e._repo,e._path,function(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class ux extends uI{constructor(e){super(),this._path=e}_apply(e){!function(e,t){if(!0===e._orderByCalled)throw Error(t+": You can't combine multiple orderBy calls.")}(e,"orderByChild");let t=new sh(this._path);if(sw(t))throw Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let n=new sX(t),r=function(e,t){let n=e.copy();return n.index_=t,n}(e._queryParams,n);return up(r),new uf(e._repo,e._path,r,!0)}}class uN extends uI{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(lz("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uE(this._value,this._key)._apply(new uT(this._value,this._key)._apply(e))}}ta(!c,"__referenceConstructor has already been defined"),c=ug,ta(!d,"__referenceConstructor has already been defined"),d=ug;const uR={};class uO{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=se(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new oe(e.repoInfo_,(t,n,r,i)=>{l2(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>l3(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{tL(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new sN(e.repoInfo_,t,(t,n,r,i)=>{l2(e,t,n,r,i)},t=>{l3(e,t)},t=>{aK(t,(t,n)=>{l4(e,t,n)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){let n=e.toString();return a7[n]||(a7[n]=t()),a7[n]}(e.repoInfo_,()=>new os(e.stats_,e.server_)),e.infoData_=new ot,e.infoSyncTree_=new lr({startListening:(t,n,r,i)=>{let a=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(a=ls(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),a},stopListening:()=>{}}),l4(e,"connected",!1),e.serverSyncTree_=new lr({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{let a=i(n,r);lX(e.eventQueue_,t._path,a)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ug(this._repo,sf())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){let n=uR[t];n&&n[e.key]===e||aA(`Database ${t}(${e.repoInfo_}) has already been deleted.`),e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt"),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&aA("Cannot call "+e+" on a deleted database.")}}sN.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},sN.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},a_=nE,nk(new t1("database",(e,{instanceIdentifier:t})=>(function(e,t,n,r,i){var a,s;let o,l,u,c,d=r||e.options.databaseURL;void 0===d&&(e.options.projectId||aA("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),aO("Using default host for project ",e.options.projectId),d=`${e.options.projectId}-default-rtdb.firebaseio.com`);let h=uo(d,i),f=h.repoInfo;void 0!==e2&&e2.env&&(u=e2.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(c=!0,f=(h=uo(d=`http://${u}?ns=${f.namespace}`,i)).repoInfo):c=!h.repoInfo.secure;let p=i&&c?new a1(a1.OWNER):new a0(e.name,e.options,t);return lQ("Invalid Firebase Database URL",h),sw(h.path)||aA("Database URL must point to the root of a Firebase Database (not including a child path)."),new uO((a=f,s=new aZ(e.name,n),(o=uR[e.name])||(o={},uR[e.name]=o),(l=o[a.toURLString()])&&aA("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new l0(a,!1,p,s),o[a.toURLString()]=l,l),e)})(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),nx(av,ay,void 0),nx(av,ay,"esm2017");var Y=H("acw62"),uD={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};const uL=new Uint8Array(16),uA=[];for(let e=0;e<256;++e)uA.push((e+256).toString(16).slice(1));var uM=function(e,t,n){if(uD.randomUUID&&!t&&!e)return uD.randomUUID();let r=(e=e||{}).random||(e.rng||function(){if(!h&&!(h="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(uL)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return uA[e[t+0]]+uA[e[t+1]]+uA[e[t+2]]+uA[e[t+3]]+"-"+uA[e[t+4]]+uA[e[t+5]]+"-"+uA[e[t+6]]+uA[e[t+7]]+"-"+uA[e[t+8]]+uA[e[t+9]]+"-"+uA[e[t+10]]+uA[e[t+11]]+uA[e[t+12]]+uA[e[t+13]]+uA[e[t+14]]+uA[e[t+15]]}(r)};const uF=(e,t)=>t.some(t=>e instanceof t),uU=new WeakMap,uz=new WeakMap,uj=new WeakMap,uq=new WeakMap,uW=new WeakMap;let uV={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return uz.get(e);if("objectStoreNames"===t)return e.objectStoreNames||uj.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uB(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function uB(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(uB(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&uU.set(t,e)}).catch(()=>{}),uW.set(t,e),t}(e);if(uq.has(e))return uq.get(e);let n="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(p||(p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(u$(this),e),uB(uU.get(this))}:function(...e){return uB(t.apply(u$(this),e))}:function(e,...n){let r=t.call(u$(this),e,...n);return uj.set(r,e.sort?e.sort():[e]),uB(r)}:(t instanceof IDBTransaction&&function(e){if(uz.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});uz.set(e,t)}(t),uF(t,f||(f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,uV):t;return n!==e&&(uq.set(e,n),uW.set(n,e)),n}const u$=e=>uW.get(e),uH=["get","getKey","getAll","getAllKeys","count"],uK=["put","add","delete","clear"],uQ=new Map;function uG(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(uQ.get(t))return uQ.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=uK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uH.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),s=a.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&a.done]))[0]};return uQ.set(t,a),a}uV={...w=uV,get:(e,t,n)=>uG(e,t)||w.get(e,t,n),has:(e,t)=>!!uG(e,t)||w.has(e,t)};const uY="@firebase/installations",uJ="0.6.4",uX=`w:${uJ}`,uZ="FIS_v2",u0=new tR("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function u1(e){return e instanceof tN&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function u3(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function u4(e,t){let n=(await t.json()).error;return u0.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function u6({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function u5(e){let t=await e();return t.status>=500&&t.status<600?e():t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let r=u2(e),i=u6(e),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}let s={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:uZ,appId:e.appId,sdkVersion:uX})},o=await u5(()=>fetch(r,s));if(o.ok){let e=await o.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:u3(e.authToken)}}throw await u4("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct=new Map;function cn(e,t){let n=ce(e);cr(n,t),function(e,t){let n=(!ci&&"BroadcastChannel"in self&&((ci=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{cr(e.data.key,e.data.fid)}),ci);n&&n.postMessage({key:e,fid:t}),0===ct.size&&ci&&(ci.close(),ci=null)}(n,t)}function cr(e,t){let n=ct.get(e);if(n)for(let e of n)e(t)}let ci=null;const ca="firebase-installations-store";let cs=null;function co(){return cs||(cs=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let s=indexedDB.open(e,1),o=uB(s);return r&&s.addEventListener("upgradeneeded",e=>{r(uB(s.result),e.oldVersion,e.newVersion,uB(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}("firebase-installations-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(ca)}})),cs}async function cl(e,t){let n=ce(e),r=(await co()).transaction(ca,"readwrite"),i=r.objectStore(ca),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||cn(e,t.fid),t}async function cu(e){let t=ce(e),n=(await co()).transaction(ca,"readwrite");await n.objectStore(ca).delete(t),await n.done}async function cc(e,t){let n=ce(e),r=(await co()).transaction(ca,"readwrite"),i=r.objectStore(ca),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,s&&(!a||a.fid!==s.fid)&&cn(e,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(e){let t;let n=await cc(e.appConfig,n=>{let r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(u0.create("app-offline"))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=ch(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:cf(e)}:{installationEntry:t}}(e,cm(n||{fid:function(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let t=btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22);return u7.test(t)?t:""}catch(e){return""}}(),registrationStatus:0}));return t=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ch(e,t){try{let n=await u8(e,t);return cl(e.appConfig,n)}catch(n){throw u1(n)&&409===n.customData.serverCode?await cu(e.appConfig):await cl(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function cf(e){let t=await cp(e.appConfig);for(;1===t.registrationStatus;)await u9(100),t=await cp(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:n}=await cd(e);return n||t}return t}function cp(e){return cc(e,e=>{if(!e)throw u0.create("installation-not-found");return cm(e)})}function cm(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg({appConfig:e,heartbeatServiceProvider:t},n){let r=function(e,{fid:t}){return`${u2(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){let n=u6(e);return n.append("Authorization",`${uZ} ${t}`),n}(e,n),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}let s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:uX,appId:e.appId}})},o=await u5(()=>fetch(r,s));if(o.ok)return u3(await o.json());throw await u4("Generate Auth Token",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(e,t=!1){let n;let r=await cc(e.appConfig,r=>{var i;if(!cw(r))throw u0.create("not-registered");let a=r.authToken;if(!t&&2===(i=a).requestStatus&&!function(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===a.requestStatus)return n=cy(e,t),r;{if(!navigator.onLine)throw u0.create("app-offline");let t=function(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=cb(e,t),t}});return n?await n:r.authToken}async function cy(e,t){let n=await c_(e.appConfig);for(;1===n.authToken.requestStatus;)await u9(100),n=await c_(e.appConfig);let r=n.authToken;return 0===r.requestStatus?cv(e,t):r}function c_(e){return cc(e,e=>{var t;if(!cw(e))throw u0.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function cb(e,t){try{let n=await cg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await cl(e.appConfig,r),n}catch(n){if(u1(n)&&(401===n.customData.serverCode||404===n.customData.serverCode))await cu(e.appConfig);else{let n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await cl(e.appConfig,n)}throw n}}function cw(e){return void 0!==e&&2===e.registrationStatus}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(e){let{installationEntry:t,registrationPromise:n}=await cd(e);return n?n.catch(console.error):cv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(e,t=!1){return await cS(e),(await cv(e,t)).token}async function cS(e){let{registrationPromise:t}=await cd(e);t&&await t}function cI(e){return u0.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="installations";nk(new t1(cE,e=>{let t=e.getProvider("app").getImmediate(),n=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(!e||!e.options)throw cI("App Configuration");if(!e.name)throw cI("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw cI(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r=nC(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},"PUBLIC")),nk(new t1("installations-internal",e=>{let t=nC(e.getProvider("app").getImmediate(),cE).getImmediate();return{getId:()=>ck(t),getToken:e=>cC(t,e)}},"PRIVATE")),nx(uY,uJ),nx(uY,uJ,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="analytics",cP="https://www.googletagmanager.com/gtag/js",cx=new ne("@firebase/analytics"),cN=new tR("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e){if(!e.startsWith(cP)){let t=cN.create("invalid-gtag-resource",{gtagURL:e});return cx.warn(t.message),""}return e}function cO(e){return Promise.all(e.map(e=>e.catch(e=>e)))}async function cD(e,t,n,r,i,a){let s=r[i];try{if(s)await t[s];else{let e=(await cO(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){cx.error(e)}e("config",i,a)}async function cL(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);let r=await cO(n);for(let n of e){let e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(i)a.push(i);else{a=[];break}}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(e){cx.error(e)}}const cA=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};async function cM(e){var t;let{appId:n,apiKey:r}=e,i={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":r})},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(a,i);if(200!==s.status&&304!==s.status){let e="";try{let n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw cN.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}async function cF(e,t=cA,n){let{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw cN.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw cN.create("no-api-key")}let s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new cz;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),cU({appId:r,apiKey:i,measurementId:a},s,o,t)}async function cU(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=cA){var a;let{appId:s,measurementId:o}=e;try{await new Promise((e,n)=>{let i=setTimeout(e,Math.max(t-Date.now(),0));r.addEventListener(()=>{clearTimeout(i),n(cN.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}catch(e){if(o)return cx.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:s,measurementId:o};throw e}try{let t=await cM(e);return i.deleteThrottleMetadata(s),t}catch(u){if(!function(e){if(!(e instanceof tN)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(u)){if(i.deleteThrottleMetadata(s),o)return cx.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==u?void 0:u.message}]`),{appId:s,measurementId:o};throw u}let t=503===Number(null===(a=null==u?void 0:u.customData)||void 0===a?void 0:a.httpStatus)?tZ(n,i.intervalMillis,30):tZ(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,l),cx.debug(`Calling attemptFetch again in ${t} millis`),cU(e,l,r,i)}}class cz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cj(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}{let i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cq(){if(!tP())return cx.warn(cN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await tx()}catch(e){return cx.warn(cN.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}async function cW(e,t,n,r,i,a,s){var o;let l=cF(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&cx.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>cx.error(e)),t.push(l);let u=cq().then(e=>e?r.getId():void 0),[c,d]=await Promise.all([l,u]);!function(e){for(let t of Object.values(window.document.getElementsByTagName("script")))if(t.src&&t.src.includes(cP)&&t.src.includes(e))return t;return null}(a)&&function(e,t){let n;let r=(window.trustedTypes&&(n=window.trustedTypes.createPolicy("firebase-js-sdk-policy",{createScriptURL:cR})),n),i=document.createElement("script"),a=`${cP}?l=${e}&id=${t}`;i.src=r?null==r?void 0:r.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}(a,c.measurementId),g&&(i("consent","default",g),g=void 0),i("js",new Date);let h=null!==(o=null==s?void 0:s.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",c.measurementId,h),m&&(i("set",m),m=void 0),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.app=e}_delete(){return delete cB[this.app.options.appId],Promise.resolve()}}let cB={},c$=[];const cH={};let cK="dataLayer",cQ=!1;const cG="@firebase/analytics",cY="0.10.0";nk(new t1(cT,(e,{options:t})=>(function(e,t,n){!function(){let e=[];if(tI()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=cN.create("invalid-analytics-context",{errorInfo:t});cx.warn(n.message)}}();let r=e.options.appId;if(!r)throw cN.create("no-app-id");if(!e.options.apiKey){if(e.options.measurementId)cx.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cN.create("no-api-key")}if(null!=cB[r])throw cN.create("already-exists",{id:r});if(!cQ){var i,a;let e,t;e=[],Array.isArray(window[cK])?e=window[cK]:window[cK]=e;let{wrappedGtag:n,gtagCore:r}=(i="gtag",t=function(...e){window[cK].push(arguments)},window[i]&&"function"==typeof window[i]&&(t=window[i]),window[i]=(a=t,async function(e,...t){try{if("event"===e){let[e,n]=t;await cL(a,cB,c$,e,n)}else if("config"===e){let[e,n]=t;await cD(a,cB,c$,cH,e,n)}else if("consent"===e){let[e]=t;a("consent","update",e)}else if("get"===e){let[e,n,r]=t;a("get",e,n,r)}else if("set"===e){let[e]=t;a("set",e)}else a(e,...t)}catch(e){cx.error(e)}}),{gtagCore:t,wrappedGtag:window[i]});y=n,v=r,cQ=!0}return cB[r]=cW(e,c$,cH,t,v,cK,n),new cV(e)})(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),nk(new t1("analytics-internal",function(e){try{let t=e.getProvider(cT).getImmediate();return{logEvent:(e,n,r)=>{var i;return i=t,void(i=t0(i),cj(y,cB[i.app.options.appId],e,n,r).catch(e=>cx.error(e)))}}}catch(e){throw cN.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),nx(cG,cY),nx(cG,cY,"esm2017"),nx("firebase","10.7.2","app");const cJ=nT({apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0,databaseURL:void 0});!function(e=nP()){let t=nC(e=t0(e),cT);t.isInitialized()?t.getImmediate():function(e,t={}){let n=nC(e,cT);if(n.isInitialized()){let e=n.getImmediate();if(tW(t,n.getOptions()))return e;throw cN.create("already-initialized")}return n.initialize({options:t})}(e)}(cJ);const cX=function(e=nP()){let t=nC(e,"auth");if(t.isInitialized())return t.getImmediate();let n=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=nC(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(tW(n.getOptions(),null!=t?t:{}))return e;n$(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:aa,persistence:[iA,iy,i_]}),r=tw("authTokenSyncURL");if(r){let e=ag(r);t0(n).beforeAuthStateChanged(e,()=>e(n.currentUser)),t0(n).onIdTokenChanged(t=>e(t),void 0,void 0)}let i=ty("auth");return i&&function(e,t,n){let r=t0(e);nQ(r._canInitEmulator,r,"emulator-config-failed"),nQ(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!(null==n?void 0:n.disableWarnings),a=r$(t),{host:s,port:o}=function(e){let t=r$(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:rH(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:rH(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${a}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}(cJ),cZ=function(e=nP(),t){let n=nC(e,"database").getImmediate({identifier:void 0});if(!n._instanceStarted){let e=t_("database");e&&function(e,t,n,r={}){var i;let a;(e=t0(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&aA("Cannot call useEmulator() after instance has already been initialized.");let s=e._repoInternal;s.repoInfo_.nodeAdmin?(r.mockUserToken&&aA('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new a1(a1.OWNER)):r.mockUserToken&&(a=new a1("string"==typeof r.mockUserToken?r.mockUserToken:/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[th(JSON.stringify({alg:"none",type:"JWT"})),th(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e.app.options.projectId))),i=a,s.repoInfo_=new a6(`${t}:${n}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),i&&(s.authTokenProvider_=i)}(n,...e)}return n}(cJ),c0=()=>{let e=eI(),[t,n]=(0,Y.useState)(!0),[r,i]=(0,Y.useState)("Signing in anonymously..."),[a,s]=(0,Y.useState)(null),[o,l]=(0,Y.useState)(null),[u,c]=(0,Y.useState)("X"),[d,h]=(0,Y.useState)(()=>Array(9).fill("")),[f,p]=(0,Y.useState)(!1);return(0,Y.useEffect)(()=>{let e=eK(d);(e.winner||e.isDraw)&&(uw(uy(cZ,`anonymous/${a}`),{completed:!0,isDraw:e.isDraw,winner:e.winner}),e0(e))},[d]),(0,Y.useEffect)(()=>{let t=null,r=e=>{t=uS(uy(cZ,`anonymous/${e}`),e=>{let n=e.val();if(!n)return;let{completed:r,values:i,turn:a,isDraw:s,winner:o}=n;h(i),c(a),p(r),!r||(t(),s||o||e0({isDraw:s,winner:o}))})};return iu(cX).then(async e=>{var t;i("Finding a room...");let a=uy(cZ,"anonymous"),o=await function(e){e=t0(e);let t=new uk(new ud(()=>{}));return(function(e,t,n){let r=function(e,t){var n;let r=t._path,i=null;e.syncPointTree_.foreachOnPath(r,(e,t)=>{let n=sk(e,r);i=i||o9(t,n)});let a=e.syncPointTree_.get(r);a?i=i||o9(a,sf()):(a=new o4,e.syncPointTree_=e.syncPointTree_.set(r,a));let s=null!=i,o=s?new op(i,!0,!1):null,l=(n=e.pendingWriteTree_,oV(t._path,n));return ob(o5(a,t,l,s?o.getNode():sG.EMPTY_NODE,s).viewCache_)}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{let i;let a=sJ(r).withIndex(t._queryParams.getIndex());if(lu(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=ls(e.serverSyncTree_,t._path,a);else{let n=lf(e.serverSyncTree_,t);i=ll(e.serverSyncTree_,t._path,a,n)}return lX(e.eventQueue_,t._path,i),lo(e.serverSyncTree_,t,n,null,!0),a},n=>(l9(e,"get for query "+tL(t)+" failed: "+n),Promise.reject(Error(n))))})(e._repo,e,t).then(t=>new uv(t,new ug(e._repo,e._path),e._queryParams.getIndex()))}(function(e,...t){let n=t0(e);for(let e of t)n=e._apply(n);return n}(a,function(e){if("$key"===e)throw Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return l$("orderByChild","path",e,!1),new ux(e)}("player2"),(lB("equalTo","key",t,!0),new uN(null,t)),function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw Error("limitToFirst: First argument must be a positive integer.");return new uP(e)}(1)));if(o.exists()&&o.size>0&&Object.values(o.val())[0].player1!==e.user.uid){let t=Object.keys(o.val())[0],i=uy(cZ,`anonymous/${t}`);await uw(i,{player2:e.user.uid,player2Online:!0}),await ub(uy(cZ,`anonymous/${t}/player2Online`)).set(!1),await ub(uy(cZ,`anonymous/${t}/completed`)).set(!0),r(t),s(t),l("O"),n(!1)}else{let t=uM(),a=uy(cZ,`anonymous/${t}`);await function(e,t){lK("set",(e=t0(e))._path),lz("set",t,e._path,!1);let n=new tk;return function(e,t,n,r,i){l9(e,"set",{path:t.toString(),value:n,priority:r});let a=l1(e),s=sJ(n,r),o=lI(s,lc(e.serverSyncTree_,t),a),l=l6(e),u=li(e.serverSyncTree_,t,o,l,!0);lY(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{let a="ok"===n;a||aM("set at "+t+" failed: "+n);let s=la(e.serverSyncTree_,l,!a);lX(e.eventQueue_,t,s),l7(e,i,n,r)});let c=ua(e,t);ut(e,c),lX(e.eventQueue_,c,[])}(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}(a,{player1:e.user.uid,player1Online:!0,player2:null,player2Online:!1,completed:!1,values:Array(9).fill(""),turn:"X",isDraw:!1,winner:null}),await ub(uy(cZ,`anonymous/${t}/player1Online`)).set(!1),await ub(uy(cZ,`anonymous/${t}/completed`)).set(!0),s(t),l("X"),i("Waiting for another player...");let o=uS(uy(cZ,`anonymous/${t}/player2`),e=>{e.val()&&(r(t),n(!1),o&&o())})}}).catch(t=>{console.error("Failed to sign in anonymously",t),alert("Failed to sign in anonymously"),e("/")}),()=>{t&&t()}},[]),(0,Q.jsxs)("div",{className:"game-container anonymous-multiplayer",children:[(0,Q.jsxs)("h2",{children:["You are playing as: ",o]}),(0,Q.jsxs)("h2",{children:["Current Player: ",u]}),(0,Q.jsx)(eZ,{values:d,onClick:e=>{if(d[e]||u!==o||f)return;let t=[...d].map((t,n)=>e===n?u:t);uw(uy(cZ,`anonymous/${a}`),{values:t,turn:"X"===u?"O":"X"})}}),t&&(0,Q.jsx)("div",{className:"loading-overlay",children:(0,Q.jsx)("div",{className:"status-text",children:r})})]})};var Y=H("acw62");const c1=()=>{let[e,t]=(0,Y.useState)("X"),[n,r]=(0,Y.useState)(()=>Array(9).fill(""));return(0,Y.useEffect)(()=>{let e=eK(n);(e.winner||e.isDraw)&&e0(e)},[n]),(0,Q.jsxs)("div",{className:"game-container offline-multiplayer",children:[(0,Q.jsxs)("h2",{children:["Current Player: ",e]}),(0,Q.jsx)(eZ,{values:n,onClick:i=>{n[i]||(r(t=>t.map((t,n)=>i===n?e:t)),t(e=>"X"===e?"O":"X"))}})]})};var Y=H("acw62");const c2=()=>{let[e,t]=(0,Y.useState)("X"),[n,r]=(0,Y.useState)(()=>Array(9).fill("")),[i,a]=(0,Y.useState)(!1);return(0,Y.useEffect)(()=>{let e=eK(n);(e.winner||e.isDraw)&&e0(e)},[n]),(0,Q.jsxs)("div",{className:"game-container single-multiplayer",children:[(0,Q.jsxs)("h2",{children:["Current Player: ",e]}),(0,Q.jsxs)("div",{className:"game-grid-container",children:[(0,Q.jsx)(eZ,{values:n,onClick:i=>{"X"!==e||n[i]||(r(t=>t.map((t,n)=>i===n?e:t)),t(e=>"X"===e?"O":"X"),a(!0),setTimeout(()=>{r(e=>{let t=eX(e,"X",i);return e.map((e,n)=>t===n?"O":e)}),t(e=>"X"===e?"O":"X"),a(!1)},500))}}),i&&(0,Q.jsx)("div",{className:"game-grid-overlay",children:"Thinking..."})]})]})},c3=()=>(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("h1",{children:"Tic Tac Toe"}),(0,Q.jsxs)(eF,{children:[(0,Q.jsx)(eA,{path:"single",element:(0,Q.jsx)(c2,{})}),(0,Q.jsx)(eA,{path:"offline",element:(0,Q.jsx)(c1,{})}),(0,Q.jsx)(eA,{path:"anonymous",element:(0,Q.jsx)(c0,{})}),(0,Q.jsx)(eA,{path:"*",element:(0,Q.jsx)(eL,{to:"offline"})})]}),(0,Q.jsx)(eB,{className:"blue-button home",to:"/",children:"Back to Home"})]}),c4=()=>(0,Q.jsxs)("div",{className:"home-page-container",children:[(0,Q.jsx)("h1",{children:"Tic Tac Toe"}),(0,Q.jsxs)("div",{className:"game-modes",children:[(0,Q.jsx)(eB,{to:"/game/single",className:"blue-button",title:"Play agains the computer",children:"Single Player"}),(0,Q.jsx)(eB,{to:"/game/offline",className:"blue-button",title:"Play against a friend on the same device",children:"Offline Multiplayer"}),(0,Q.jsx)(eB,{to:"/game/anonymous",className:"blue-button",title:"Play against a stranger online",children:"Anonymous Multiplayer"}),(0,Q.jsx)(eB,{to:"/game/online",className:"blue-button",title:"Play against a friend online by sharing the room code.",children:"Online Multiplayer"})]})]}),c6=()=>(0,Q.jsxs)(eF,{children:[(0,Q.jsx)(eA,{path:"/game/*",element:(0,Q.jsx)(c3,{})}),(0,Q.jsx)(eA,{path:"/",element:(0,Q.jsx)(c4,{})}),(0,Q.jsx)(eA,{path:"*",element:(0,Q.jsx)(eL,{to:"/"})})]});D(document.getElementById("root")).render((0,Q.jsx)(function(e){let{basename:t,children:n,future:r,window:i}=e,a=Y.useRef();null==a.current&&(a.current=function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=L.Pop,l=null,u=c();function c(){return(s.state||{idx:null}).idx}function d(){o=L.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:o,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:er(e);return Z(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,s.replaceState(J({},s.state,{idx:u}),""));let f={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw Error("A history only accepts one active listener");return i.addEventListener(X,d),l=e,()=>{i.removeEventListener(X,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=L.Push;let r=en(f.location,e,t);n&&n(r,e);let d=et(r,u=c()+1),h=f.createHref(r);try{s.pushState(d,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(h)}a&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o=L.Replace;let r=en(f.location,e,t);n&&n(r,e);let i=et(r,u=c()),d=f.createHref(r);s.replaceState(i,"",d),a&&l&&l({action:o,location:f.location,delta:0})},go:e=>s.go(e)};return f}(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=ei(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),en("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:er(t))},function(e,t){ee("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},{window:i,v5Compat:!0}));let s=a.current,[o,l]=Y.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=Y.useCallback(e=>{u&&eq?eq(()=>l(e)):l(e)},[l,u]);return Y.useLayoutEffect(()=>s.listen(c),[s,c]),Y.createElement(eM,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})},{children:(0,Q.jsx)(()=>(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(c6,{}),(0,Q.jsx)(e1,{})]}),{})}));
//# sourceMappingURL=index.c3133060.js.map
